(()=>{"use strict";var e={933:e=>{var t,r=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return a;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var r=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==r.length)throw new TypeError("Custom cacheMap missing methods: "+r.join(", "))}return t}(t),this._batch=null}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize&&(!t.cacheHits||t.cacheHits.length<e._maxBatchSize))return t;var r={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=r,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0!==t.keys.length){var r=e._batchLoadFn(t.keys);if(!r||"function"!=typeof r.then)return s(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(r)+"."));r.then((function(e){if(!n(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));i(t);for(var r=0;r<t.callbacks.length;r++){var a=e[r];a instanceof Error?t.callbacks[r].reject(a):t.callbacks[r].resolve(a)}})).catch((function(r){s(e,t,r)}))}else i(t)}(e,r)})),r}(this),r=this._cacheMap,a=this._cacheKeyFn(e);if(r){var o=r.get(a);if(o){var c=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){c.push((function(){e(o)}))}))}}t.keys.push(e);var l=new Promise((function(e,r){t.callbacks.push({resolve:e,reject:r})}));return r&&r.set(a,l),l},t.loadMany=function(e){if(!n(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],r=0;r<e.length;r++)t.push(this.load(e[r]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var r=this._cacheKeyFn(e);t.delete(r)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var r=this._cacheMap;if(r){var a,s=this._cacheKeyFn(e);void 0===r.get(s)&&(t instanceof Error?(a=Promise.reject(t)).catch((function(){})):a=Promise.resolve(t),r.set(s,a))}return this},e}(),a="object"==typeof process&&"function"==typeof process.nextTick?function(e){t||(t=Promise.resolve()),t.then((function(){process.nextTick(e)}))}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function s(e,t,r){i(t);for(var a=0;a<t.keys.length;a++)e.clear(t.keys[a]),t.callbacks[a].reject(r)}function i(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function n(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=r}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{r.r(a),r.d(a,{API_BLOCK_NAMESPACE:()=>D,CART_STORE_KEY:()=>Rr,CHECKOUT_STORE_KEY:()=>za,COLLECTIONS_STORE_KEY:()=>we,EMPTY_CART_COUPONS:()=>O,EMPTY_CART_CROSS_SELLS:()=>N,EMPTY_CART_ERRORS:()=>Y,EMPTY_CART_FEES:()=>x,EMPTY_CART_ITEMS:()=>M,EMPTY_CART_ITEM_ERRORS:()=>L,EMPTY_EXTENSIONS:()=>V,EMPTY_PAYMENT_METHODS:()=>j,EMPTY_PAYMENT_REQUIREMENTS:()=>H,EMPTY_SHIPPING_RATES:()=>U,EMPTY_TAX_LINES:()=>q,PAYMENT_STORE_KEY:()=>Js,QUERY_STATE_STORE_KEY:()=>Ci,SCHEMA_STORE_KEY:()=>Z,STORE_NOTICES_STORE_KEY:()=>Yi,VALIDATION_STORE_KEY:()=>Ei,getErrorDetails:()=>dr,hasInState:()=>z,processErrorResponse:()=>_r,updateState:()=>X});var e={};r.r(e),r.d(e,{getRoute:()=>R,getRoutes:()=>w});var t={};r.r(t),r.d(t,{receiveRoutes:()=>B});var s={};r.r(s),r.d(s,{getRoute:()=>F,getRoutes:()=>$});var i={};r.r(i),r.d(i,{getCollection:()=>ae,getCollectionError:()=>se,getCollectionHeader:()=>ie,getCollectionLastModified:()=>ne});var n={};r.r(n),r.d(n,{receiveCollection:()=>le,receiveCollectionError:()=>de,receiveLastModified:()=>ue});var o={};r.r(o),r.d(o,{getCollection:()=>Ae,getCollectionHeader:()=>Pe});var c={};r.r(c),r.d(c,{getCartData:()=>De,getCartErrors:()=>Ue,getCartItem:()=>Fe,getCartMeta:()=>Ye,getCartTotals:()=>Le,getCouponBeingApplied:()=>Ve,getCouponBeingRemoved:()=>Be,getCustomerData:()=>Oe,getHasCalculatedShipping:()=>xe,getItemsPendingDelete:()=>Qe,getItemsPendingQuantityUpdate:()=>Xe,getNeedsShipping:()=>Ne,getShippingRates:()=>Me,isApplyingCoupon:()=>je,isCartDataStale:()=>He,isCustomerDataUpdating:()=>ze,isItemPendingDelete:()=>Ge,isItemPendingQuantity:()=>$e,isRemovingCoupon:()=>qe,isShippingRateBeingSelected:()=>Ke});var l={};r.r(l),r.d(l,{addItemToCart:()=>qt,applyCoupon:()=>Ht,applyExtensionCartUpdate:()=>jt,changeCartItemQuantity:()=>Ft,itemIsPendingDelete:()=>xt,itemIsPendingQuantity:()=>Nt,receiveApplyingCoupon:()=>Dt,receiveCart:()=>Rt,receiveCartContents:()=>kt,receiveCartItem:()=>Mt,receiveError:()=>wt,receiveRemovingCoupon:()=>Ot,removeCoupon:()=>Vt,removeItemFromCart:()=>Bt,selectShippingRate:()=>$t,setBillingAddress:()=>Gt,setCartData:()=>Ct,setErrorData:()=>It,setIsCartDataStale:()=>Lt,setShippingAddress:()=>zt,shippingRatesBeingSelected:()=>Ut,updateCustomerData:()=>Kt,updatingCustomerData:()=>Yt});var d={};r.r(d),r.d(d,{getCartData:()=>Xt,getCartTotals:()=>Qt});var u={};r.r(u),r.d(u,{getCheckoutStatus:()=>zr,getCustomerId:()=>Hr,getExtensionData:()=>$r,getOrderId:()=>Vr,getOrderNotes:()=>qr,getRedirectUrl:()=>Br,getShouldCreateAccount:()=>Gr,getUseShippingAsBilling:()=>Fr,hasError:()=>Kr,hasOrder:()=>Xr,isAfterProcessing:()=>Jr,isBeforeProcessing:()=>Zr,isCalculating:()=>ta,isComplete:()=>Qr,isIdle:()=>Wr,isProcessing:()=>ea,prefersCollection:()=>ra});var p={};r.r(p),r.d(p,{__internalDecrementCalculating:()=>Oa,__internalEmitAfterProcessingEvents:()=>va,__internalEmitValidateEvent:()=>Ta,__internalIncrementCalculating:()=>Da,__internalProcessCheckoutResponse:()=>fa,__internalSetAfterProcessing:()=>wa,__internalSetBeforeProcessing:()=>Pa,__internalSetComplete:()=>Ca,__internalSetCustomerId:()=>Ma,__internalSetExtensionData:()=>Ua,__internalSetHasError:()=>ka,__internalSetIdle:()=>Aa,__internalSetOrderNotes:()=>La,__internalSetProcessing:()=>Ra,__internalSetRedirectUrl:()=>Ia,__internalSetShouldCreateAccount:()=>xa,__internalSetUseShippingAsBilling:()=>Na,setPrefersCollection:()=>Ya});var _={};r.r(_),r.d(_,{__internalEmitPaymentProcessingEvent:()=>ls,__internalRemoveAvailableExpressPaymentMethod:()=>As,__internalRemoveAvailablePaymentMethod:()=>vs,__internalSetActivePaymentMethod:()=>Es,__internalSetAvailableExpressPaymentMethods:()=>Ts,__internalSetAvailablePaymentMethods:()=>fs,__internalSetExpressPaymentError:()=>cs,__internalSetExpressPaymentMethodsInitialized:()=>gs,__internalSetExpressPaymentStarted:()=>us,__internalSetPaymentError:()=>_s,__internalSetPaymentIdle:()=>ds,__internalSetPaymentMethodData:()=>Ss,__internalSetPaymentMethodsInitialized:()=>hs,__internalSetPaymentProcessing:()=>ps,__internalSetPaymentReady:()=>ms,__internalSetPaymentResult:()=>bs,__internalSetShouldSavePaymentMethod:()=>ys,__internalUpdateAvailablePaymentMethods:()=>Ps});var m={};r.r(m),r.d(m,{expressPaymentMethodsInitialized:()=>Gs,getActivePaymentMethod:()=>Us,getActiveSavedPaymentMethods:()=>Fs,getActiveSavedToken:()=>Ys,getAvailableExpressPaymentMethods:()=>Hs,getAvailablePaymentMethods:()=>js,getCurrentStatus:()=>zs,getIncompatiblePaymentMethods:()=>qs,getPaymentMethodData:()=>Vs,getPaymentResult:()=>Xs,getSavedPaymentMethods:()=>Bs,getShouldSavePaymentMethod:()=>Ks,getState:()=>Qs,hasPaymentError:()=>Ns,isExpressPaymentMethodActive:()=>Ls,isExpressPaymentStarted:()=>ks,isPaymentFailed:()=>xs,isPaymentIdle:()=>Cs,isPaymentPristine:()=>ws,isPaymentProcessing:()=>Ds,isPaymentReady:()=>Os,isPaymentStarted:()=>Is,isPaymentSuccess:()=>Ms,paymentMethodsInitialized:()=>$s});var h={};r.r(h),r.d(h,{clearAllValidationErrors:()=>ci,clearValidationError:()=>li,clearValidationErrors:()=>oi,hideValidationError:()=>di,setValidationErrors:()=>ni,showAllValidationErrors:()=>pi,showValidationError:()=>ui});var g={};r.r(g),r.d(g,{getValidationError:()=>_i,getValidationErrorId:()=>mi,hasValidationErrors:()=>hi});var y={};r.r(y),r.d(y,{getValueForQueryContext:()=>Ti,getValueForQueryKey:()=>fi});var E={};r.r(E),r.d(E,{setQueryValue:()=>Pi,setValueForQueryContext:()=>Ri});var S={};r.r(S),r.d(S,{registerContainer:()=>ki,unregisterContainer:()=>Di});var b={};r.r(b),r.d(b,{getRegisteredContainers:()=>Oi});const f=window.wp.notices,T=window.wp.data,v=window.wp.dataControls,A="wc/store/schema",P=window.wp.i18n,R=(0,T.createRegistrySelector)((e=>(t,r,a,s=[])=>{const i=e(A).hasFinishedResolution("getRoutes",[r]);let n="";if((t=t.routes)[r]?t[r][a]||(n=(0,P.sprintf)("There is no route for the given resource name (%s) in the store",a)):n=(0,P.sprintf)("There is no route for the given namespace (%s) in the store",r),""!==n){if(i)throw new Error(n);return""}const o=C(t[r][a],s);if(""===o&&i)throw new Error((0,P.sprintf)("While there is a route for the given namespace (%1$s) and resource name (%2$s), there is no route utilizing the number of ids you included in the select arguments. The available routes are: (%3$s)",r,a,JSON.stringify(t[r][a])));return o})),w=(0,T.createRegistrySelector)((e=>(t,r)=>{const a=e(A).hasFinishedResolution("getRoutes",[r]),s=t.routes[r];if(!s){if(a)throw new Error((0,P.sprintf)("There is no route for the given namespace (%s) in the store",r));return[]}let i=[];for(const e in s)i=[...i,...Object.keys(s[e])];return i})),C=(e,t=[])=>{const r=(e=Object.entries(e)).find((([,e])=>t.length===e.length)),[a,s]=r||[];return a?0===t.length?a:I(a,s,t):""},I=(e,t,r)=>(t.forEach(((t,a)=>{e=e.replace(`{${t}}`,r[a])})),e),k={RECEIVE_MODEL_ROUTES:"RECEIVE_MODEL_ROUTES"},D="wc/blocks",O=[],M=[],N=[],x=[],L=[],Y=[],U=[],j=[],H=[],V={},q=[];function B(e,t=D){return{type:k.RECEIVE_MODEL_ROUTES,routes:e,namespace:t}}function*F(e){yield T.controls.resolveSelect(A,"getRoutes",e)}function*$(e){const t=yield(0,v.apiFetch)({path:e}),r=t&&t.routes?Object.keys(t.routes):[];yield B(r,e)}const G=(e,t)=>!!t&&!!t.reduce(((e,t)=>"object"==typeof e&&null!==e?e[t]:void 0),e);function z(e,t){return G(e,t)}function K(e,t,r,a=0){const s=t[a];if(a===t.length-1)return{...e,[s]:r};const i=e[s]||{};return{...e,[s]:K(i,t,r,a+1)}}function X(e,t,r){return K(e,t,r)}const Q=(0,T.combineReducers)({routes:(e={},t)=>{const{type:r,routes:a,namespace:s}=t;return r===k.RECEIVE_MODEL_ROUTES&&a.forEach((t=>{const r=((e,t)=>(t=t.replace(`${e}/`,"")).replace(/\/\(\?P\<[a-z_]*\>\[\\*[a-z]\]\+\)/g,""))(s,t);if(r&&r!==s){const a=(e=>{const t=e.match(/\<[a-z_]*\>/g);return Array.isArray(t)&&0!==t.length?t.map((e=>e.replace(/<|>/g,""))):[]})(t),i=((e,t)=>Array.isArray(t)&&0!==t.length?(t.forEach((t=>{const r=`\\(\\?P<${t}>.*?\\)`;e=e.replace(new RegExp(r),`{${t}}`)})),e):e)(t,a);z(e,[s,r,i])||(e=X(e,[s,r,i],a))}})),e}}),W=(0,T.createReduxStore)(A,{reducer:Q,actions:t,controls:v.controls,selectors:e,resolvers:s});(0,T.register)(W);const Z=A,J="wc/store/collections",ee=[],te=window.wp.url,re=({state:e,namespace:t,resourceName:r,query:a,ids:s,type:i="items",fallback:n=ee})=>z(e,[t,r,s=JSON.stringify(s),a=null!==a?(0,te.addQueryArgs)("",a):"",i])?e[t][r][s][a][i]:n,ae=(e,t,r,a=null,s=ee)=>re({state:e,namespace:t,resourceName:r,query:a,ids:s}),se=(e,t,r,a=null,s=ee)=>re({state:e,namespace:t,resourceName:r,query:a,ids:s,type:"error",fallback:null}),ie=(e,t,r,a,s=null,i=ee)=>{const n=((e,t,r,a=null,s=ee)=>re({state:e,namespace:t,resourceName:r,query:a,ids:s,type:"headers",fallback:void 0}))(e,r,a,s,i);return n&&n.get?n.has(t)?n.get(t):void 0:null},ne=e=>e.lastModified||0,oe={RECEIVE_COLLECTION:"RECEIVE_COLLECTION",RESET_COLLECTION:"RESET_COLLECTION",ERROR:"ERROR",RECEIVE_LAST_MODIFIED:"RECEIVE_LAST_MODIFIED",INVALIDATE_RESOLUTION_FOR_STORE:"INVALIDATE_RESOLUTION_FOR_STORE"};let ce=window.Headers||null;function le(e,t,r="",a=[],s={items:[],headers:ce},i=!1){return{type:i?oe.RESET_COLLECTION:oe.RECEIVE_COLLECTION,namespace:e,resourceName:t,queryString:r,ids:a,response:s}}function de(e,t,r,a,s){return{type:"ERROR",namespace:e,resourceName:t,queryString:r,ids:a,response:{items:[],headers:ce,error:s}}}function ue(e){return{type:oe.RECEIVE_LAST_MODIFIED,timestamp:e}}ce=ce?new ce:{get:()=>{},has:()=>{}};const pe=window.wp.apiFetch;var _e=r.n(pe),me=r(933),he=r.n(me);const ge={},ye={code:"invalid_json",message:(0,P.__)("The response is not a valid JSON response.","woo-gutenberg-products-block")},Ee=e=>{_e().setNonce&&"function"==typeof _e().setNonce?_e().setNonce(e):console.error('The monkey patched function on APIFetch, "setNonce", is not present, likely another plugin or some other code has removed this augmentation')},Se=new(he())((e=>_e()({path:"/wc/store/v1/batch",method:"POST",data:{requests:e.map((e=>({...e,body:null==e?void 0:e.data})))}}).then((t=>(function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("responses"))throw new Error("Response not valid")}(t),e.map(((e,r)=>t.responses[r]||ge)))))),{batchScheduleFn:e=>setTimeout(e,300),cache:!1,maxBatchSize:25}),be=e=>({type:"API_FETCH_WITH_HEADERS",options:e}),fe=e=>new Promise(((t,r)=>{e.method&&"GET"!==e.method?(async e=>await Se.load(e))(e).then((e=>{throw function(e){if("object"!=typeof e||null===e||!("body"in e)||!("headers"in e))throw new Error("Response not valid")}(e),e.status>=200&&e.status<300&&(t({response:e.body,headers:e.headers}),Ee(e.headers)),e})).catch((e=>{e.headers&&Ee(e.headers),e.body?r(e.body):r(e)})):_e()({...e,parse:!1}).then((e=>{e.json().then((r=>{t({response:r,headers:e.headers}),Ee(e.headers)})).catch((()=>{r(ye)}))})).catch((e=>{Ee(e.headers),"function"==typeof e.json?e.json().then((e=>{r(e)})).catch((()=>{r(ye)})):r(e.message)}))})),Te=e=>fe(e),ve={API_FETCH_WITH_HEADERS:({options:e})=>fe(e)};function*Ae(e,t,r,a){const s=yield T.controls.resolveSelect(A,"getRoute",e,t,a),i=(0,te.addQueryArgs)("",r);if(s)try{const{response:r=ee,headers:n}=yield be({path:s+i});n&&n.get&&n.has("last-modified")&&(yield function*(e){const t=yield T.controls.resolveSelect(J,"getCollectionLastModified");t?e>t&&(yield T.controls.dispatch(J,"invalidateResolutionForStore"),yield T.controls.dispatch(J,"receiveLastModified",e)):yield T.controls.dispatch(J,"receiveLastModified",e)}(parseInt(n.get("last-modified"),10))),yield le(e,t,i,a,{items:r,headers:n})}catch(r){yield de(e,t,i,a,r)}else yield le(e,t,i,a)}function*Pe(e,t,r,a,s){const i=[t,r,a,s].filter((e=>void 0!==e));yield T.controls.resolveSelect(J,"getCollection",...i)}const Re=(0,T.createReduxStore)(J,{reducer:(e={},t)=>{if(t.type===oe.RECEIVE_LAST_MODIFIED)return t.timestamp===e.lastModified?e:{...e,lastModified:t.timestamp};if(t.type===oe.INVALIDATE_RESOLUTION_FOR_STORE)return{};const{type:r,namespace:a,resourceName:s,queryString:i,response:n}=t,o=t.ids?JSON.stringify(t.ids):"[]";switch(r){case oe.RECEIVE_COLLECTION:if(z(e,[a,s,o,i]))return e;e=X(e,[a,s,o,i],n);break;case oe.RESET_COLLECTION:case oe.ERROR:e=X(e,[a,s,o,i],n)}return e},actions:n,controls:{...v.controls,...ve},selectors:i,resolvers:o});(0,T.register)(Re);const we=J,Ce="wc/store/cart",Ie={code:"cart_api_error",message:(0,P.__)("Unable to get cart data from the API.","woo-gutenberg-products-block"),data:{status:500}},ke={cartItemsPendingQuantity:[],cartItemsPendingDelete:[],cartData:{coupons:O,shippingRates:U,shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:"",email:""},items:M,itemsCount:0,itemsWeight:0,crossSells:N,needsShipping:!0,needsPayment:!1,hasCalculatedShipping:!0,fees:x,totals:{currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"",currency_suffix:"",total_items:"0",total_items_tax:"0",total_fees:"0",total_fees_tax:"0",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_price:"0",total_tax:"0",tax_lines:q},errors:L,paymentMethods:j,paymentRequirements:H,extensions:V},metaData:{updatingCustomerData:!1,updatingSelectedRate:!1,applyingCoupon:"",removingCoupon:"",isCartDataStale:!1},errors:Y},De=e=>e.cartData,Oe=e=>({shippingAddress:e.cartData.shippingAddress,billingAddress:e.cartData.billingAddress}),Me=e=>e.cartData.shippingRates,Ne=e=>e.cartData.needsShipping,xe=e=>e.cartData.hasCalculatedShipping,Le=e=>e.cartData.totals||ke.cartData.totals,Ye=e=>e.metaData||ke.metaData,Ue=e=>e.errors,je=e=>!!e.metaData.applyingCoupon,He=e=>e.metaData.isCartDataStale,Ve=e=>e.metaData.applyingCoupon||"",qe=e=>!!e.metaData.removingCoupon,Be=e=>e.metaData.removingCoupon||"",Fe=(e,t)=>e.cartData.items.find((e=>e.key===t)),$e=(e,t)=>e.cartItemsPendingQuantity.includes(t),Ge=(e,t)=>e.cartItemsPendingDelete.includes(t),ze=e=>!!e.metaData.updatingCustomerData,Ke=e=>!!e.metaData.updatingSelectedRate,Xe=e=>e.cartItemsPendingQuantity,Qe=e=>e.cartItemsPendingDelete;var We=function(){return We=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},We.apply(this,arguments)};function Ze(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Je=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],et=/[^A-Z0-9]+/gi;function tt(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function rt(e,t){var r=e.charAt(0),a=e.substr(1).toLowerCase();return t>0&&r>="0"&&r<="9"?"_"+r+a:""+r.toUpperCase()+a}function at(e,t){return 0===t?e.toLowerCase():rt(e,t)}const st=e=>((e,t)=>Object.entries(e).reduce(((e,[r,a])=>({...e,[t(0,r)]:a})),{}))(e,((e,t)=>{return void 0===r&&(r={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,a=void 0===r?Je:r,s=t.stripRegexp,i=void 0===s?et:s,n=t.transform,o=void 0===n?Ze:n,c=t.delimiter,l=void 0===c?" ":c,d=tt(tt(e,a,"$1\0$2"),i,"\0"),u=0,p=d.length;"\0"===d.charAt(u);)u++;for(;"\0"===d.charAt(p-1);)p--;return d.slice(u,p).split("\0").map(o).join(l)}(e,We({delimiter:"",transform:rt},t))}(t,We({transform:at},r));var r})),it=window.CustomEvent||null,nt=(e,{bubbles:t=!1,cancelable:r=!1,element:a,detail:s={}})=>{if(!it)return;a||(a=document.body);const i=new it(e,{bubbles:t,cancelable:r,detail:s});a.dispatchEvent(i)},ot="SET_CART_DATA",ct="SET_ERROR_DATA",lt="APPLYING_COUPON",dt="REMOVING_COUPON",ut="RECEIVE_CART_ITEM",pt="ITEM_PENDING_QUANTITY",_t="SET_IS_CART_DATA_STALE",mt="RECEIVE_REMOVED_ITEM",ht="UPDATING_CUSTOMER_DATA",gt="SET_BILLING_ADDRESS",yt="SET_SHIPPING_ADDRESS",Et="UPDATING_SELECTED_SHIPPING_RATE",St=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function bt(e,t){return St(e)&&t in e}const ft=e=>St(e)&&bt(e,"code")&&bt(e,"message"),Tt=e=>e.quantity>=e.quantity_limits.minimum&&e.quantity<=e.quantity_limits.maximum&&e.quantity%e.quantity_limits.multiple_of==0,vt=(0,P.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block"),At=(e,t,r)=>{const a=null==r?void 0:r.context;(0,T.select)("wc/store/payment").isExpressPaymentMethodActive()||void 0===a||(0,T.dispatch)("core/notices").createNotice(e,t,{isDismissible:!0,...r,context:a})},Pt=window.wp.htmlEntities,Rt=e=>({dispatch:t,select:r})=>{const a=st(e),s=r.getCartData();((e=null,t=null)=>{t&&t.forEach((e=>{(0,T.dispatch)("core/notices").removeNotice(e.code,"wc/cart")})),null!==e&&e.forEach((e=>{ft(e)&&At("error",(0,Pt.decodeEntities)(e.message),{id:e.code,context:"wc/cart",isDismissible:!1})}))})(a.errors,s.errors),(({oldCart:e,newCart:t,cartItemsPendingQuantity:r=[],cartItemsPendingDelete:a=[]})=>{(0,T.select)(Ce).hasFinishedResolution("getCartData")&&(((e,t,r)=>{e.items.forEach((e=>{r.includes(e.key)||t.items.find((t=>t&&t.key===e.key))||(0,T.dispatch)("core/notices").createInfoNotice((0,P.sprintf)(/* translators: %s is the name of the item. */
(0,P.__)('"%s" was removed from your cart.',"woo-gutenberg-products-block"),e.name),{context:"wc/cart",speak:!0,type:"snackbar",id:`${e.key}-removed`})}))})(e,t,a),((e,t)=>{t.items.forEach((t=>{const r=e.items.find((e=>e&&e.key===t.key)),a=0===e.items.length;if(!r&&!a)return;if(Tt(t))return;const s=t.quantity>t.quantity_limits.maximum,i=t.quantity<t.quantity_limits.minimum,n=t.quantity%t.quantity_limits.multiple_of!=0;(s||i||n)&&(n?(0,T.dispatch)("core/notices").createInfoNotice((0,P.sprintf)(/* translators: %1$s is the name of the item, %2$d is the quantity of the item. %3$d is a number that the quantity must be a multiple of. */
(0,P.__)('The quantity of "%1$s" was changed to %2$d. You must purchase this product in groups of %3$d.',"woo-gutenberg-products-block"),t.name,Math.floor(t.quantity/t.quantity_limits.multiple_of)*t.quantity_limits.multiple_of,t.quantity_limits.multiple_of),{context:"wc/cart",speak:!0,type:"snackbar",id:`${t.key}-quantity-update`}):i?(0,T.dispatch)("core/notices").createInfoNotice((0,P.sprintf)(/* translators: %1$s is the name of the item, %2$d is the quantity of the item. */
(0,P.__)('The quantity of "%1$s" was increased to %2$d. This is the minimum required quantity.',"woo-gutenberg-products-block"),t.name,t.quantity_limits.minimum),{context:"wc/cart",speak:!0,type:"snackbar",id:`${t.key}-quantity-update`}):(0,T.dispatch)("core/notices").createInfoNotice((0,P.sprintf)(/* translators: %1$s is the name of the item, %2$d is the quantity of the item. */
(0,P.__)('The quantity of "%1$s" was decreased to %2$d. This is the maximum allowed quantity.',"woo-gutenberg-products-block"),t.name,t.quantity_limits.maximum),{context:"wc/cart",speak:!0,type:"snackbar",id:`${t.key}-quantity-update`}))}))})(e,t),((e,t,r)=>{t.items.forEach((t=>{if(r.includes(t.key))return;const a=e.items.find((e=>e&&e.key===t.key));return a&&t.key===a.key?(t.quantity!==a.quantity&&Tt(t)&&(0,T.dispatch)("core/notices").createInfoNotice((0,P.sprintf)(/* translators: %1$s is the name of the item, %2$d is the quantity of the item. */
(0,P.__)('The quantity of "%1$s" was changed to %2$d.',"woo-gutenberg-products-block"),t.name,t.quantity),{context:"wc/cart",speak:!0,type:"snackbar",id:`${t.key}-quantity-update`}),t):void 0}))})(e,t,r))})({oldCart:s,newCart:a,cartItemsPendingQuantity:r.getItemsPendingQuantityUpdate(),cartItemsPendingDelete:r.getItemsPendingDelete()}),t.setCartData(a)},wt=(e=null)=>({dispatch:t})=>{var r,a;ft(e)&&(t.setErrorData(e),null!==(r=e.data)&&void 0!==r&&r.cart&&t.receiveCart(null==e||null===(a=e.data)||void 0===a?void 0:a.cart))},Ct=e=>({type:ot,response:e}),It=e=>({type:ct,error:e}),kt=e=>{const t=st(e),{shippingAddress:r,billingAddress:a,...s}=t;return{type:ot,response:s}},Dt=e=>({type:lt,couponCode:e}),Ot=e=>({type:dt,couponCode:e}),Mt=(e=null)=>({type:ut,cartItem:e}),Nt=(e,t=!0)=>({type:pt,cartItemKey:e,isPendingQuantity:t}),xt=(e,t=!0)=>({type:mt,cartItemKey:e,isPendingDelete:t}),Lt=(e=!0)=>({type:_t,isCartDataStale:e}),Yt=e=>({type:ht,isResolving:e}),Ut=e=>({type:Et,isResolving:e}),jt=e=>async({dispatch:t})=>{try{const{response:r}=await Te({path:"/wc/store/v1/cart/extensions",method:"POST",data:{namespace:e.namespace,data:e.data},cache:"no-store"});return t.receiveCart(r),r}catch(e){return t.receiveError(e),Promise.reject(e)}},Ht=e=>async({dispatch:t})=>{try{t.receiveApplyingCoupon(e);const{response:r}=await Te({path:"/wc/store/v1/cart/apply-coupon",method:"POST",data:{code:e},cache:"no-store"});return t.receiveCart(r),r}catch(e){return t.receiveError(e),Promise.reject(e)}finally{t.receiveApplyingCoupon("")}},Vt=e=>async({dispatch:t})=>{try{t.receiveRemovingCoupon(e);const{response:r}=await Te({path:"/wc/store/v1/cart/remove-coupon",method:"POST",data:{code:e},cache:"no-store"});return t.receiveCart(r),r}catch(e){return t.receiveError(e),Promise.reject(e)}finally{t.receiveRemovingCoupon("")}},qt=(e,t=1)=>async({dispatch:r})=>{try{nt("wc-blocks_adding_to_cart",{bubbles:!0,cancelable:!0});const{response:a}=await Te({path:"/wc/store/v1/cart/add-item",method:"POST",data:{id:e,quantity:t},cache:"no-store"});return r.receiveCart(a),(({preserveCartData:e=!1})=>{nt("wc-blocks_added_to_cart",{bubbles:!0,cancelable:!0,detail:{preserveCartData:e}})})({preserveCartData:!0}),a}catch(e){return r.receiveError(e),Promise.reject(e)}},Bt=e=>async({dispatch:t})=>{try{t.itemIsPendingDelete(e);const{response:r}=await Te({path:"/wc/store/v1/cart/remove-item",data:{key:e},method:"POST",cache:"no-store"});return t.receiveCart(r),r}catch(e){return t.receiveError(e),Promise.reject(e)}finally{t.itemIsPendingDelete(e,!1)}},Ft=(e,t)=>async({dispatch:r,select:a})=>{const s=a.getCartItem(e);if((null==s?void 0:s.quantity)!==t)try{r.itemIsPendingQuantity(e);const{response:a}=await Te({path:"/wc/store/v1/cart/update-item",method:"POST",data:{key:e,quantity:t},cache:"no-store"});return r.receiveCart(a),a}catch(e){return r.receiveError(e),Promise.reject(e)}finally{r.itemIsPendingQuantity(e,!1)}},$t=(e,t=null)=>async({dispatch:r,select:a})=>{var s;const i=null===(s=a.getShippingRates().find((e=>e.package_id===t)))||void 0===s?void 0:s.shipping_rates.find((e=>!0===e.selected));if((null==i?void 0:i.rate_id)!==e)try{r.shippingRatesBeingSelected(!0);const{response:a}=await Te({path:"/wc/store/v1/cart/select-shipping-rate",method:"POST",data:{package_id:t,rate_id:e},cache:"no-store"}),{shipping_address:s,billing_address:i,...n}=a;return r.receiveCart(n),a}catch(e){return r.receiveError(e),Promise.reject(e)}finally{r.shippingRatesBeingSelected(!1)}},Gt=e=>({type:gt,billingAddress:e}),zt=e=>({type:yt,shippingAddress:e}),Kt=(e,t=!0)=>async({dispatch:r})=>{try{r.updatingCustomerData(!0);const{response:a}=await Te({path:"/wc/store/v1/cart/update-customer",method:"POST",data:e,cache:"no-store"});return t?r.receiveCartContents(a):r.receiveCart(a),a}catch(e){return r.receiveError(e),Promise.reject(e)}finally{r.updatingCustomerData(!1)}},Xt=()=>async({dispatch:e})=>{const t=await _e()({path:"/wc/store/v1/cart",method:"GET",cache:"no-store"}),{receiveCart:r,receiveError:a}=e;t?r(t):a(Ie)},Qt=()=>async({resolveSelect:e})=>{await e.getCartData()},Wt=(e=[],t)=>t.type===ut?e.map((e=>{var r;return e.key===(null===(r=t.cartItem)||void 0===r?void 0:r.key)?t.cartItem:e})):e,Zt=(e,t)=>t.reduce(((t,r)=>(e&&e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{}),Jt=(e,t,r)=>{let a,s=null;const i=(...i)=>{s=i,a&&clearTimeout(a),a=setTimeout((()=>{a=null,!r&&s&&e(...s)}),t),r&&!a&&e(...i)};return i.flush=()=>{a&&s&&(e(...s),clearTimeout(a),a=null)},i},er=window.wp.isShallowEqual;var tr=r.n(er);const rr=(e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[];let ar=function(e){return e.SUCCESS="success",e.FAIL="failure",e.ERROR="error",e}({}),sr=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e}({});const ir=(e,t)=>St(e)&&"type"in e&&e.type===t,nr=e=>ir(e,ar.SUCCESS),or=e=>ir(e,ar.ERROR),cr=e=>ir(e,ar.FAIL),lr=e=>!St(e)||void 0===e.retry||!0===e.retry,dr=e=>{const t=bt(e.data,"details")?Object.entries(e.data.details):null;return t?t.reduce(((e,[t,{code:r,message:a,additional_errors:s=[]}])=>[...e,{param:t,id:`${t}_${r}`,code:r,message:(0,Pt.decodeEntities)(a)},...Array.isArray(s)?s.flatMap((e=>bt(e,"code")&&bt(e,"message")?[{param:t,id:`${t}_${e.code}`,code:e.code,message:(0,Pt.decodeEntities)(e.message)}]:[])):[]]),[]):[]},ur=e=>{switch(e){case"woocommerce_rest_missing_email_address":case"woocommerce_rest_invalid_email_address":return sr.CONTACT_INFORMATION;default:return sr.CART}},pr=e=>{switch(e){case"invalid_email":return sr.CONTACT_INFORMATION;case"billing_address":return sr.BILLING_ADDRESS;case"shipping_address":return sr.SHIPPING_ADDRESS;default:return}},_r=(e,t)=>{if(!ft(e))return;if("rest_invalid_param"===e.code)return((e,t)=>{dr(e).forEach((({code:e,message:r,id:a,param:s})=>{At("error",r,{id:a,context:t||pr(s)||ur(e)})}))})(e,t);let r=(0,Pt.decodeEntities)(e.message)||vt;"invalid_json"===e.code&&(r=vt),At("error",r,{id:e.code,context:t||ur(e.code)})},mr="wc/store/validation",hr=(e,t)=>"string"!=typeof t?t:"email"===e?(0,te.isEmail)(t)?t.trim():"":"postcode"===e?t.replace(" ","").toUpperCase():t.trim(),gr=(e,t)=>Object.keys(e).filter((r=>hr(r,e[r])!==hr(r,t[r]))),yr={customerDataIsInitialized:!1,doingPush:!1,customerData:{billingAddress:{},shippingAddress:{}},dirtyProps:{billingAddress:[],shippingAddress:[]}},Er=()=>{if(yr.doingPush)return;if(yr.doingPush=!0,(()=>{const e=(0,T.select)(Ce).getCustomerData();yr.dirtyProps.billingAddress=[...yr.dirtyProps.billingAddress,...gr(yr.customerData.billingAddress,e.billingAddress)],yr.dirtyProps.shippingAddress=[...yr.dirtyProps.shippingAddress,...gr(yr.customerData.shippingAddress,e.shippingAddress)],yr.customerData=e})(),!(yr.dirtyProps.billingAddress.length>0||yr.dirtyProps.shippingAddress.length>0))return void(yr.doingPush=!1);if(!(e=>{const t=(0,T.select)(mr);return 0===[...e.billingAddress.filter((e=>void 0!==t.getValidationError("billing_"+e))),...e.shippingAddress.filter((e=>void 0!==t.getValidationError("shipping_"+e)))].filter(Boolean).length})(yr.dirtyProps))return void(yr.doingPush=!1);const e={};yr.dirtyProps.billingAddress.length&&(e.billing_address=Zt(yr.customerData.billingAddress,yr.dirtyProps.billingAddress)),yr.dirtyProps.shippingAddress.length&&(e.shipping_address=Zt(yr.customerData.shippingAddress,yr.dirtyProps.shippingAddress)),(0,T.dispatch)(Ce).updateCustomerData(e).then((()=>{yr.dirtyProps.billingAddress=[],yr.dirtyProps.shippingAddress=[],yr.doingPush=!1,(()=>{const e=(0,T.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,T.dispatch)("core/notices"),{getNotices:r}=(0,T.select)("core/notices");e.forEach((e=>{r(e).forEach((r=>{t(r.id,e)}))}))})()})).catch((e=>{yr.doingPush=!1,_r(e)}))},Sr=Jt((()=>{yr.doingPush?Sr():Er()}),1500),br="wc/store/payment";let fr=function(e){return e.IDLE="idle",e.EXPRESS_STARTED="express_started",e.PROCESSING="processing",e.READY="ready",e.ERROR="has_error",e}({});const Tr=async()=>!!(0,T.select)(Ce).hasFinishedResolution("getCartData")&&(await(0,T.dispatch)(br).__internalUpdateAvailablePaymentMethods(),!0),vr=Jt(Tr,1e3),Ar=(0,T.registerStore)(Ce,{reducer:(e=ke,t)=>{switch(t.type){case ct:t.error&&(e={...e,errors:[t.error]});break;case ot:t.response&&(e={...e,errors:Y,cartData:{...e.cartData,...t.response}});break;case lt:(t.couponCode||""===t.couponCode)&&(e={...e,metaData:{...e.metaData,applyingCoupon:t.couponCode}});break;case gt:e={...e,cartData:{...e.cartData,billingAddress:{...e.cartData.billingAddress,...t.billingAddress}}};break;case yt:e={...e,cartData:{...e.cartData,shippingAddress:{...e.cartData.shippingAddress,...t.shippingAddress}}};break;case dt:(t.couponCode||""===t.couponCode)&&(e={...e,metaData:{...e.metaData,removingCoupon:t.couponCode}});break;case pt:const r=e.cartItemsPendingQuantity.filter((e=>e!==t.cartItemKey));t.isPendingQuantity&&t.cartItemKey&&r.push(t.cartItemKey),e={...e,cartItemsPendingQuantity:r};break;case mt:const a=e.cartItemsPendingDelete.filter((e=>e!==t.cartItemKey));t.isPendingDelete&&t.cartItemKey&&a.push(t.cartItemKey),e={...e,cartItemsPendingDelete:a};break;case ut:e={...e,errors:Y,cartData:{...e.cartData,items:Wt(e.cartData.items,t)}};break;case ht:e={...e,metaData:{...e.metaData,updatingCustomerData:!!t.isResolving}};break;case Et:e={...e,metaData:{...e.metaData,updatingSelectedRate:!!t.isResolving}};break;case _t:e={...e,metaData:{...e.metaData,isCartDataStale:t.isCartDataStale}}}return e},actions:l,controls:v.controls,selectors:c,resolvers:d,__experimentalUseThunks:!0});Ar.subscribe(((e=!0)=>{if((0,T.select)(Ce).hasFinishedResolution("getCartData"))return yr.customerDataIsInitialized?void(tr()(yr.customerData,(0,T.select)(Ce).getCustomerData())||(e?Sr():Er())):(yr.customerData=(0,T.select)(Ce).getCustomerData(),void(yr.customerDataIsInitialized=!0))})),document.body.addEventListener("focusout",(e=>{e.target&&e.target instanceof Element&&"input"===e.target.tagName.toLowerCase()&&Sr.flush()}));const Pr=Ar.subscribe((async()=>{await Tr()&&(Pr(),Ar.subscribe(vr))})),Rr=Ce,wr=window.wc.wcSettings,Cr="wc/store/checkout";let Ir=function(e){return e.IDLE="idle",e.COMPLETE="complete",e.BEFORE_PROCESSING="before_processing",e.PROCESSING="processing",e.AFTER_PROCESSING="after_processing",e}({});const kr={order_id:0,customer_id:0,billing_address:{},shipping_address:{},...(0,wr.getSetting)("checkoutData",{})||{}};var Dr;const Or=(0,wr.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),Mr=Or.pluginUrl+"images/",Nr=(Or.pluginUrl,Or.buildPhase,null===(Dr=wr.STORE_PAGES.shop)||void 0===Dr||Dr.permalink,wr.STORE_PAGES.checkout.id,wr.STORE_PAGES.checkout.permalink,wr.STORE_PAGES.privacy.permalink,wr.STORE_PAGES.privacy.title,wr.STORE_PAGES.terms.permalink,wr.STORE_PAGES.terms.title,wr.STORE_PAGES.cart.id,wr.STORE_PAGES.cart.permalink,wr.STORE_PAGES.myaccount.permalink?wr.STORE_PAGES.myaccount.permalink:(0,wr.getSetting)("wpLoginUrl","/wp-login.php"),(0,wr.getSetting)("localPickupEnabled",!1)),xr=(0,wr.getSetting)("countries",{}),Lr=(0,wr.getSetting)("countryData",{}),Yr=(Object.fromEntries(Object.keys(Lr).filter((e=>!0===Lr[e].allowBilling)).map((e=>[e,xr[e]||""]))),Object.fromEntries(Object.keys(Lr).filter((e=>!0===Lr[e].allowBilling)).map((e=>[e,Lr[e].states||[]]))),Object.fromEntries(Object.keys(Lr).filter((e=>!0===Lr[e].allowShipping)).map((e=>[e,xr[e]||""]))),Object.fromEntries(Object.keys(Lr).filter((e=>!0===Lr[e].allowShipping)).map((e=>[e,Lr[e].states||[]]))),Object.fromEntries(Object.keys(Lr).map((e=>[e,Lr[e].locale||[]])))),Ur=(0,wr.getSetting)("collectableMethodIds",[]),jr=e=>"string"==typeof e,Hr=e=>e.customerId,Vr=e=>e.orderId,qr=e=>e.orderNotes,Br=e=>e.redirectUrl,Fr=e=>e.useShippingAsBilling,$r=e=>e.extensionData,Gr=e=>e.shouldCreateAccount,zr=e=>e.status,Kr=e=>e.hasError,Xr=e=>!!e.orderId,Qr=e=>e.status===Ir.COMPLETE,Wr=e=>e.status===Ir.IDLE,Zr=e=>e.status===Ir.BEFORE_PROCESSING,Jr=e=>e.status===Ir.AFTER_PROCESSING,ea=e=>e.status===Ir.PROCESSING,ta=e=>e.calculatingCount>0,ra=e=>{if(void 0===e.prefersCollection){const e=(0,T.select)(Ce).getShippingRates();if(!e||!e.length)return!1;const r=e[0].shipping_rates.find((e=>e.selected));if(bt(r,"method_id")&&jr(r.method_id))return t=null==r?void 0:r.method_id,!!Nr&&(Array.isArray(t)?!!t.find((e=>Ur.includes(e))):Ur.includes(t))}var t;return e.prefersCollection},aa="SET_IDLE",sa="SET_REDIRECT_URL",ia="SET_CHECKOUT_COMPLETE",na="SET_BEFORE_PROCESSING",oa="SET_AFTER_PROCESSING",ca="SET_CHECKOUT_IS_PROCESSING",la="SET_CHECKOUT_HAS_ERROR",da="SET_CHECKOUT_CUSTOMER_ID",ua="SET_CHECKOUT_ORDER_NOTES",pa="INCREMENT_CALCULATING",_a="DECREMENT_CALCULATING",ma="SET_USE_SHIPPING_AS_BILLING",ha="SET_SHOULD_CREATE_ACCOUNT",ga="SET_PREFERS_COLLECTION",ya="SET_EXTENSION_DATA",Ea=e=>St(e)&&bt(e,"type"),Sa=async(e,t,r)=>{const a=[],s=rr(e,t);for(const e of s)try{const t=await Promise.resolve(e.callback(r));if(!Ea(t))continue;if(!t.hasOwnProperty("type"))throw new Error("Returned objects from event emitter observers must return an object with a type property");if(or(t)||cr(t))return a.push(t),a;a.push(t)}catch(e){return console.error(e),a.push({type:ar.ERROR}),a}return a},ba=(window.wp.element,"checkout_success"),fa=e=>({dispatch:t})=>{const r=(e=>{const t={message:"",paymentStatus:"not set",redirectUrl:"",paymentDetails:{}};return"payment_result"in e&&(t.paymentStatus=e.payment_result.payment_status,t.redirectUrl=e.payment_result.redirect_url,e.payment_result.hasOwnProperty("payment_details")&&Array.isArray(e.payment_result.payment_details)&&e.payment_result.payment_details.forEach((({key:e,value:r})=>{t.paymentDetails[e]=(0,Pt.decodeEntities)(r)}))),"message"in e&&(t.message=(0,Pt.decodeEntities)(e.message)),!t.message&&"data"in e&&"status"in e.data&&e.data.status>299&&(t.message=(0,P.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block")),t})(e);t.__internalSetRedirectUrl((null==r?void 0:r.redirectUrl)||""),(0,T.dispatch)(br).__internalSetPaymentResult(r),t.__internalSetAfterProcessing()},Ta=({observers:e,setValidationErrors:t})=>({dispatch:r,registry:a})=>{const{createErrorNotice:s}=a.dispatch(f.store);((e,t)=>{const r=(0,T.select)("core/notices").getNotices(t),{removeNotice:a}=(0,T.dispatch)("core/notices");r.filter((e=>"error"===e.status)).forEach((e=>a(e.id,t)))})(),(async(e,t,r)=>{const a=rr(e,t),s=[];for(const e of a)try{const t=await Promise.resolve(e.callback(r));"object"==typeof t&&s.push(t)}catch(e){console.error(e)}return!s.length||s})(e,"checkout_validation",{}).then((e=>{!0!==e?(Array.isArray(e)&&e.forEach((({errorMessage:e,validationErrors:r,context:a="wc/checkout"})=>{s(e,{context:a}),t(r)})),r.__internalSetIdle(),r.__internalSetHasError()):r.__internalSetProcessing()}))},va=({observers:e,notices:t})=>({select:r,dispatch:a,registry:s})=>{const{createErrorNotice:i}=s.dispatch(f.store),n={redirectUrl:r.getRedirectUrl(),orderId:r.getOrderId(),customerId:r.getCustomerId(),orderNotes:r.getOrderNotes(),processingResponse:(0,T.select)(br).getPaymentResult()};r.hasError()?Sa(e,"checkout_fail",n).then((e=>{(({observerResponses:e,notices:t,dispatch:r,createErrorNotice:a,data:s})=>{const i=(({observerResponses:e,createErrorNotice:t})=>{let r=null;return e.forEach((e=>{if((or(e)||cr(e))&&e.message&&jr(e.message)){const a=e.messageContext&&jr(e.messageContext)?{context:e.messageContext}:void 0;r=e,t(e.message,a)}})),r})({observerResponses:e,createErrorNotice:a});if(null!==i)lr(i)?r.__internalSetIdle():r.__internalSetComplete(i);else{var n;t.checkoutNotices.some((e=>"error"===e.status))||t.expressPaymentNotices.some((e=>"error"===e.status))||t.paymentNotices.some((e=>"error"===e.status))||a((null===(n=s.processingResponse)||void 0===n?void 0:n.message)||(0,P.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block"),{id:"checkout",context:"wc/checkout"}),r.__internalSetIdle()}})({observerResponses:e,notices:t,dispatch:a,createErrorNotice:i,data:n})})):Sa(e,ba,n).then((e=>{(({observerResponses:e,dispatch:t,createErrorNotice:r})=>{let a=null,s=null;if(e.forEach((e=>{nr(e)&&(a=e),(or(e)||cr(e))&&(s=e)})),a&&!s)t.__internalSetComplete(a);else if(St(s)){if(s.message&&jr(s.message)){const e=s.messageContext&&jr(s.messageContext)?{context:s.messageContext}:void 0;r(s.message,e)}lr(s)?t.__internalSetHasError(!0):t.__internalSetComplete(s)}else t.__internalSetComplete()})({observerResponses:e,dispatch:a,createErrorNotice:i})}))},Aa=()=>({type:aa}),Pa=()=>({type:na}),Ra=()=>({type:ca}),wa=()=>({type:oa}),Ca=(e={})=>({type:ia,data:e}),Ia=e=>({type:sa,redirectUrl:e}),ka=(e=!0)=>({type:la,hasError:e}),Da=()=>({type:pa}),Oa=()=>({type:_a}),Ma=e=>({type:da,customerId:e}),Na=e=>({type:ma,useShippingAsBilling:e}),xa=e=>({type:ha,shouldCreateAccount:e}),La=e=>({type:ua,orderNotes:e}),Ya=e=>({type:ga,prefersCollection:e}),Ua=(e,t,r=!1)=>({type:ya,extensionData:t,namespace:e,replace:r}),ja=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,P.sprintf)(/* translators: %s Field label. */
(0,P.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&("number"==typeof e.priority&&(t.index=e.priority),jr(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},Ha=Object.entries(Yr).map((([e,t])=>[e,Object.entries(t).map((([e,t])=>[e,ja(t)])).reduce(((e,[t,r])=>(e[t]=r,e)),{})])).reduce(((e,[t,r])=>(e[t]=r,e)),{}),Va=e=>{const t=((e,t,r="")=>{const a=r&&void 0!==Ha[r]?Ha[r]:{};return e.map((e=>({key:e,...wr.defaultAddressFields[e]||{},...a[e]||{},...t[e]||{}}))).sort(((e,t)=>e.index-t.index))})(Object.keys(wr.defaultAddressFields),{},e.country),r=Object.assign({},e);return t.forEach((({key:t="",hidden:a=!1})=>{a&&((e,t)=>e in t)(t,e)&&(r[t]="")})),r},qa={redirectUrl:"",status:Ir.PRISTINE,hasError:!1,orderId:kr.order_id,customerId:kr.customer_id,calculatingCount:0,orderNotes:"",useShippingAsBilling:(Ba=kr.billing_address,Fa=kr.shipping_address,Object.keys(wr.defaultAddressFields).every((e=>Ba[e]===Fa[e]))),shouldCreateAccount:!1,prefersCollection:void 0,extensionData:{}};var Ba,Fa;const $a={reducer:(e=qa,t)=>{var r;let a=e;switch(t.type){case aa:a=e.status!==Ir.IDLE?{...e,status:Ir.IDLE}:e;break;case sa:a=void 0!==t.redirectUrl&&t.redirectUrl!==e.redirectUrl?{...e,redirectUrl:t.redirectUrl}:e;break;case ia:a={...e,status:Ir.COMPLETE,redirectUrl:"string"==typeof(null===(r=t.data)||void 0===r?void 0:r.redirectUrl)?t.data.redirectUrl:e.redirectUrl};break;case ca:a={...e,status:Ir.PROCESSING,hasError:!1};break;case na:a={...e,status:Ir.BEFORE_PROCESSING,hasError:!1};break;case oa:a={...e,status:Ir.AFTER_PROCESSING};break;case la:a={...e,hasError:t.hasError,status:e.status===Ir.PROCESSING||e.status===Ir.BEFORE_PROCESSING?Ir.IDLE:e.status};break;case pa:a={...e,calculatingCount:e.calculatingCount+1};break;case _a:a={...e,calculatingCount:Math.max(0,e.calculatingCount-1)};break;case da:void 0!==t.customerId&&(a={...e,customerId:t.customerId});break;case ma:void 0!==t.useShippingAsBilling&&t.useShippingAsBilling!==e.useShippingAsBilling&&(a={...e,useShippingAsBilling:t.useShippingAsBilling});break;case ha:void 0!==t.shouldCreateAccount&&t.shouldCreateAccount!==e.shouldCreateAccount&&(a={...e,shouldCreateAccount:t.shouldCreateAccount});break;case ga:void 0!==t.prefersCollection&&t.prefersCollection!==e.prefersCollection&&(a={...e,prefersCollection:t.prefersCollection});break;case ua:void 0!==t.orderNotes&&e.orderNotes!==t.orderNotes&&(a={...e,orderNotes:t.orderNotes});break;case ya:void 0!==t.extensionData&&void 0!==t.namespace&&(a={...e,extensionData:{...e.extensionData,[t.namespace]:t.replace?t.extensionData:{...e.extensionData[t.namespace],...t.extensionData}}})}return a},selectors:u,actions:p,__experimentalUseThunks:!0},Ga=(0,T.createReduxStore)(Cr,$a);(0,T.register)(Ga);const za=Cr,Ka={status:fr.IDLE,activePaymentMethod:"",activeSavedToken:"",availablePaymentMethods:{},availableExpressPaymentMethods:{},savedPaymentMethods:(0,wr.getSetting)("customerPaymentMethods",{}),paymentMethodData:{},paymentResult:null,paymentMethodsInitialized:!1,expressPaymentMethodsInitialized:!1,shouldSavePaymentMethod:!1};let Xa=function(e){return e.SET_PAYMENT_IDLE="SET_PAYMENT_IDLE",e.SET_EXPRESS_PAYMENT_STARTED="SET_EXPRESS_PAYMENT_STARTED",e.SET_PAYMENT_READY="SET_PAYMENT_READY",e.SET_PAYMENT_PROCESSING="SET_PAYMENT_PROCESSING",e.SET_PAYMENT_ERROR="SET_PAYMENT_ERROR",e.SET_PAYMENT_METHODS_INITIALIZED="SET_PAYMENT_METHODS_INITIALIZED",e.SET_EXPRESS_PAYMENT_METHODS_INITIALIZED="SET_EXPRESS_PAYMENT_METHODS_INITIALIZED",e.SET_ACTIVE_PAYMENT_METHOD="SET_ACTIVE_PAYMENT_METHOD",e.SET_SHOULD_SAVE_PAYMENT_METHOD="SET_SHOULD_SAVE_PAYMENT_METHOD",e.SET_AVAILABLE_PAYMENT_METHODS="SET_AVAILABLE_PAYMENT_METHODS",e.SET_AVAILABLE_EXPRESS_PAYMENT_METHODS="SET_AVAILABLE_EXPRESS_PAYMENT_METHODS",e.REMOVE_AVAILABLE_PAYMENT_METHOD="REMOVE_AVAILABLE_PAYMENT_METHOD",e.REMOVE_AVAILABLE_EXPRESS_PAYMENT_METHOD="REMOVE_AVAILABLE_EXPRESS_PAYMENT_METHOD",e.INITIALIZE_PAYMENT_METHODS="INITIALIZE_PAYMENT_METHODS",e.SET_PAYMENT_METHOD_DATA="SET_PAYMENT_METHOD_DATA",e.SET_PAYMENT_RESULT="SET_PAYMENT_RESULT",e}({});const Qa=e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>{var r;return[e,(null===(r=t.find((e=>e.selected)))||void 0===r?void 0:r.rate_id)||""]}))),Wa=window.wc.wcBlocksRegistry,Za=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,P.__)("Shipping","woo-gutenberg-products-block"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,P._x)("Beanie with Logo","example product in Cart Block","woo-gutenberg-products-block"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,P._x)("Beanie","example product in Cart Block","woo-gutenberg-products-block"),quantity:1}],shipping_rates:[{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,P.__)("Flat rate shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"500",taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,P.__)("Free shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,P.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:1",instance_id:1,meta_data:[{key:"pickup_location",value:"New York"},{key:"pickup_address",value:"123 Easy Street, New York, 12345"}],method_id:"pickup_location",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,P.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:2",instance_id:1,meta_data:[{key:"pickup_location",value:"Los Angeles"},{key:"pickup_address",value:"123 Easy Street, Los Angeles, California, 90210"}],method_id:"pickup_location",selected:!1}]}],Ja=(0,wr.getSetting)("displayCartPricesIncludingTax",!1),es={coupons:[],shipping_rates:(0,wr.getSetting)("shippingMethodsExist",!1)||(0,wr.getSetting)("localPickupEnabled",!1)?Za:[],items:[{key:"1",id:1,quantity:2,catalog_visibility:"visible",name:(0,P.__)("Beanie","woo-gutenberg-products-block"),summary:(0,P.__)("Beanie","woo-gutenberg-products-block"),short_description:(0,P.__)("Warm hat for winter","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:Mr+"previews/beanie.jpg",thumbnail:Mr+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,P.__)("Color","woo-gutenberg-products-block"),value:(0,P.__)("Yellow","woo-gutenberg-products-block")},{attribute:(0,P.__)("Size","woo-gutenberg-products-block"),value:(0,P.__)("Small","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"12000":"10000",regular_price:Ja?"12000":"10000",sale_price:Ja?"12000":"10000",price_range:null,raw_prices:{precision:6,price:Ja?"12000000":"10000000",regular_price:Ja?"12000000":"10000000",sale_price:Ja?"12000000":"10000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]},{key:"2",id:2,quantity:1,catalog_visibility:"visible",name:(0,P.__)("Cap","woo-gutenberg-products-block"),summary:(0,P.__)("Cap","woo-gutenberg-products-block"),short_description:(0,P.__)("Lightweight baseball cap","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:Mr+"previews/cap.jpg",thumbnail:Mr+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,P.__)("Color","woo-gutenberg-products-block"),value:(0,P.__)("Orange","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"2400":"2000",regular_price:Ja?"2400":"2000",sale_price:Ja?"2400":"2000",price_range:null,raw_prices:{precision:6,price:Ja?"24000000":"20000000",regular_price:Ja?"24000000":"20000000",sale_price:Ja?"24000000":"20000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,P.__)("Polo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,P.__)("Polo","woo-gutenberg-products-block"),description:(0,P.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"24000":"20000",regular_price:Ja?"24000":"20000",sale_price:Ja?"12000":"10000",price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:Mr+"previews/polo.jpg",thumbnail:Mr+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,P.__)("Long Sleeve Tee","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,P.__)("Long Sleeve Tee","woo-gutenberg-products-block"),description:(0,P.__)("Long Sleeve Tee","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"30000":"25000",regular_price:Ja?"30000":"25000",sale_price:Ja?"30000":"25000",price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:Mr+"previews/long-sleeve-tee.jpg",thumbnail:Mr+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,P.__)("Hoodie with Zipper","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,P.__)("Hoodie with Zipper","woo-gutenberg-products-block"),description:(0,P.__)("Hoodie with Zipper","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"15000":"12500",regular_price:Ja?"30000":"25000",sale_price:Ja?"15000":"12500",price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:Mr+"previews/hoodie-with-zipper.jpg",thumbnail:Mr+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,P.__)("Hoodie with Logo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,P.__)("Polo","woo-gutenberg-products-block"),description:(0,P.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"4500":"4250",regular_price:Ja?"4500":"4250",sale_price:Ja?"4500":"4250",price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:Mr+"previews/hoodie-with-logo.jpg",thumbnail:Mr+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,P.__)("Hoodie with Pocket","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,P.__)("Hoodie with Pocket","woo-gutenberg-products-block"),description:(0,P.__)("Hoodie with Pocket","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"3500":"3250",regular_price:Ja?"4500":"4250",sale_price:Ja?"3500":"3250",price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:Mr+"previews/hoodie-with-pocket.jpg",thumbnail:Mr+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,P.__)("T-Shirt","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,P.__)("T-Shirt","woo-gutenberg-products-block"),description:(0,P.__)("T-Shirt","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ja?"1800":"1500",regular_price:Ja?"1800":"1500",sale_price:Ja?"1800":"1500",price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:Mr+"previews/tshirt.jpg",thumbnail:Mr+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,P.__)("Fee","woo-gutenberg-products-block"),totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total:"100",total_tax:"20"}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:(0,wr.getSetting)("shippingEnabled",!0),has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total_items:"4000",total_items_tax:"800",total_fees:"100",total_fees_tax:"20",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:"820",total_price:"4920",tax_lines:[{name:(0,P.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"820"}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},ts=(e,t,r=!1)=>{const{createErrorNotice:a}=(0,T.dispatch)("core/notices"),s=r?sr.EXPRESS_PAYMENTS:sr.PAYMENTS;a(`${(0,P.sprintf)(/* translators: %s the id of the payment method being registered (bank transfer, cheque...) */
(0,P.__)("There was an error registering the payment method with id '%s': ","woo-gutenberg-products-block"),e.paymentMethodId)} ${t}`,{context:s,id:`wc-${e.paymentMethodId}-registration-error`})},rs=async(e=!1)=>{let t={};const r=e?(0,Wa.getExpressPaymentMethods)():(0,Wa.getPaymentMethods)(),a=e=>{const{name:r}=e;t={...t,[e.name]:{name:r}}},s=e?Object.keys(r):Array.from(new Set([...(0,wr.getSetting)("paymentMethodSortOrder",[]),...Object.keys(r)])),i=(()=>{let e;if((0,T.select)("core/editor")){const t={cartCoupons:es.coupons,cartItems:es.items,crossSellsProducts:es.cross_sells,cartFees:es.fees,cartItemsCount:es.items_count,cartItemsWeight:es.items_weight,cartNeedsPayment:es.needs_payment,cartNeedsShipping:es.needs_shipping,cartItemErrors:L,cartTotals:es.totals,cartIsLoading:!1,cartErrors:Y,billingData:ke.cartData.billingAddress,billingAddress:ke.cartData.billingAddress,shippingAddress:ke.cartData.shippingAddress,extensions:V,shippingRates:es.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:es.has_calculated_shipping,paymentRequirements:es.payment_requirements,receiveCart:()=>{}};e={cart:t,cartTotals:t.cartTotals,cartNeedsShipping:t.cartNeedsShipping,billingData:t.billingAddress,billingAddress:t.billingAddress,shippingAddress:t.shippingAddress,selectedShippingMethods:Qa(t.shippingRates),paymentMethods:es.payment_methods,paymentRequirements:t.paymentRequirements}}else{const t=(0,T.select)(Ce),r=t.getCartData(),a=t.getCartErrors(),s=t.getCartTotals(),i=!t.hasFinishedResolution("getCartData"),n=t.isCustomerDataUpdating(),o=Qa(r.shippingRates);e={cart:{cartCoupons:r.coupons,cartItems:r.items,crossSellsProducts:r.crossSells,cartFees:r.fees,cartItemsCount:r.itemsCount,cartItemsWeight:r.itemsWeight,cartNeedsPayment:r.needsPayment,cartNeedsShipping:r.needsShipping,cartItemErrors:r.errors,cartTotals:s,cartIsLoading:i,cartErrors:a,billingData:Va(r.billingAddress),billingAddress:Va(r.billingAddress),shippingAddress:Va(r.shippingAddress),extensions:r.extensions,shippingRates:r.shippingRates,isLoadingRates:n,cartHasCalculatedShipping:r.hasCalculatedShipping,paymentRequirements:r.paymentRequirements,receiveCart:(0,T.dispatch)(Ce).receiveCart},cartTotals:r.totals,cartNeedsShipping:r.needsShipping,billingData:r.billingAddress,billingAddress:r.billingAddress,shippingAddress:r.shippingAddress,selectedShippingMethods:o,paymentMethods:r.paymentMethods,paymentRequirements:r.paymentRequirements}}return e})(),n=i.paymentMethods,o=!!(0,T.select)("core/editor");for(let t=0;t<s.length;t++){const c=s[t],l=r[c];if(l)try{const t=!(!o&&!e)||n.includes(c),r=!!o||t&&await Promise.resolve(l.canMakePayment(i));if(r){if("object"==typeof r&&r.error)throw new Error(r.error.message);a(l)}}catch(t){(wr.CURRENT_USER_IS_ADMIN||o)&&ts(l,t,e)}}const c=Object.keys(t),l=e?(0,T.select)(br).getAvailableExpressPaymentMethods():(0,T.select)(br).getAvailablePaymentMethods();if(Object.keys(l).length===c.length&&Object.keys(l).every((e=>c.includes(e))))return!0;const{__internalSetAvailablePaymentMethods:d,__internalSetAvailableExpressPaymentMethods:u}=(0,T.dispatch)(br);return(e?u:d)(t),!0},as=async e=>{const t=Object.keys(e),r=Object.keys((0,T.select)(br).getAvailableExpressPaymentMethods()),a=[...t,...r],s=(0,T.select)(br).getSavedPaymentMethods(),i=Object.keys(s).flatMap((e=>s[e]))[0]||void 0;if(i){const e=i.tokenId.toString(),t=i.method.gateway,r=`wc-${t}-payment-token`;return void(0,T.dispatch)(br).__internalSetActivePaymentMethod(t,{token:e,payment_method:t,[r]:e,isSavedToken:!0})}const n=(0,T.select)(br).getActivePaymentMethod();n&&a.includes(n)||((0,T.dispatch)(br).__internalSetPaymentIdle(),(0,T.dispatch)(br).__internalSetActivePaymentMethod(t[0]))},ss=window.wp.deprecated;var is=r.n(ss);const ns=e=>["first_name","last_name","company","address_1","address_2","city","state","postcode","country","phone"].every((t=>bt(e,t))),os=e=>ns(e)&&bt(e,"email"),cs=e=>({registry:t})=>{const{createErrorNotice:r,removeNotice:a}=t.dispatch(f.store);e?r(e,{id:"wc-express-payment-error",context:sr.EXPRESS_PAYMENTS}):a("wc-express-payment-error",sr.EXPRESS_PAYMENTS)},ls=(e,t)=>({dispatch:r,registry:a})=>{const{createErrorNotice:s,removeNotice:i}=a.dispatch("core/notices");return i("wc-payment-error",sr.PAYMENTS),Sa(e,"payment_setup",{}).then((e=>{let i,n,o,c;e.forEach((e=>{nr(e)&&(i=e),(or(e)||cr(e))&&(n=e);const{billingAddress:t,billingData:r,shippingAddress:a,shippingData:s}=(null==e?void 0:e.meta)||{};o=t,c=a,r&&(o=r,is()("returning billingData from an onPaymentProcessing observer in WooCommerce Blocks",{version:"9.5.0",alternative:"billingAddress",link:"https://github.com/woocommerce/woocommerce-blocks/pull/6369"})),bt(s,"address")&&s.address&&(c=s.address,is()("returning shippingData from an onPaymentProcessing observer in WooCommerce Blocks",{version:"9.5.0",alternative:"shippingAddress",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8163"}))}));const{setBillingAddress:l,setShippingAddress:d}=a.dispatch(Rr);if(Ea(i)&&!n){var u;const{paymentMethodData:e}=(null===(u=i)||void 0===u?void 0:u.meta)||{};os(o)&&l(o),ns(c)&&d(c),r.__internalSetPaymentMethodData(St(e)?e:{}),r.__internalSetPaymentReady()}else if(cr(n)){var p;const{paymentMethodData:e}=(null===(p=n)||void 0===p?void 0:p.meta)||{};if(bt(n,"message")&&jr(n.message)&&n.message.length){let e=sr.PAYMENTS;bt(n,"messageContext")&&jr(n.messageContext)&&n.messageContext.length&&(e=n.messageContext),s(n.message,{id:"wc-payment-error",isDismissible:!1,context:e})}os(o)&&l(o),r.__internalSetPaymentMethodData(St(e)?e:{}),r.__internalSetPaymentError()}else if(or(n)){if(bt(n,"message")&&jr(n.message)&&n.message.length){let e=sr.PAYMENTS;bt(n,"messageContext")&&jr(n.messageContext)&&n.messageContext.length&&(e=n.messageContext),s(n.message,{id:"wc-payment-error",isDismissible:!1,context:e})}r.__internalSetPaymentError(),_=n.validationErrors,St(_)&&Object.entries(_).every((([e,t])=>{return jr(e)&&St(r=t)&&bt(r,"message")&&bt(r,"hidden")&&jr(r.message)&&"boolean"==typeof r.hidden;var r}))&&t(n.validationErrors)}else r.__internalSetPaymentReady();var _}))},ds=()=>({type:Xa.SET_PAYMENT_IDLE}),us=()=>({type:Xa.SET_EXPRESS_PAYMENT_STARTED}),ps=()=>({type:Xa.SET_PAYMENT_PROCESSING}),_s=()=>({type:Xa.SET_PAYMENT_ERROR}),ms=()=>({type:Xa.SET_PAYMENT_READY}),hs=e=>async({select:t,dispatch:r})=>{const a=t.getAvailablePaymentMethods();e&&await as(a),r({type:Xa.SET_PAYMENT_METHODS_INITIALIZED,initialized:e})},gs=e=>({type:Xa.SET_EXPRESS_PAYMENT_METHODS_INITIALIZED,initialized:e}),ys=e=>({type:Xa.SET_SHOULD_SAVE_PAYMENT_METHOD,shouldSavePaymentMethod:e}),Es=(e,t={})=>({type:Xa.SET_ACTIVE_PAYMENT_METHOD,activePaymentMethod:e,paymentMethodData:t}),Ss=(e={})=>({type:Xa.SET_PAYMENT_METHOD_DATA,paymentMethodData:e}),bs=e=>({type:Xa.SET_PAYMENT_RESULT,data:e}),fs=e=>async({dispatch:t,select:r})=>{r.getActivePaymentMethod()in e||await as(e),t({type:Xa.SET_AVAILABLE_PAYMENT_METHODS,paymentMethods:e})},Ts=e=>({type:Xa.SET_AVAILABLE_EXPRESS_PAYMENT_METHODS,paymentMethods:e}),vs=e=>({type:Xa.REMOVE_AVAILABLE_PAYMENT_METHOD,name:e}),As=e=>({type:Xa.REMOVE_AVAILABLE_EXPRESS_PAYMENT_METHOD,name:e});function Ps(){return async({select:e,dispatch:t})=>{const r=await rs(!0),a=await rs(!1),{paymentMethodsInitialized:s,expressPaymentMethodsInitialized:i}=e;a&&!s()&&t(hs(!0)),r&&!i()&&t(gs(!0))}}const Rs={};(0,wr.getSetting)("globalPaymentMethods")&&(0,wr.getSetting)("globalPaymentMethods").forEach((e=>{Rs[e.id]=e.title}));const ws=e=>(is()("isPaymentPristine",{since:"9.6.0",alternative:"isPaymentIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),e.status===fr.IDLE),Cs=e=>e.status===fr.IDLE,Is=e=>(is()("isPaymentStarted",{since:"9.6.0",alternative:"isExpressPaymentStarted",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),e.status===fr.EXPRESS_STARTED),ks=e=>e.status===fr.EXPRESS_STARTED,Ds=e=>e.status===fr.PROCESSING,Os=e=>e.status===fr.READY,Ms=e=>(is()("isPaymentSuccess",{since:"9.6.0",alternative:"isPaymentReady",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),e.status===fr.READY),Ns=e=>e.status===fr.ERROR,xs=e=>(is()("isPaymentFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),e.status===fr.ERROR),Ls=e=>Object.keys(e.availableExpressPaymentMethods).includes(e.activePaymentMethod),Ys=e=>"object"==typeof e.paymentMethodData&&bt(e.paymentMethodData,"token")?e.paymentMethodData.token+"":"",Us=e=>e.activePaymentMethod,js=e=>e.availablePaymentMethods,Hs=e=>e.availableExpressPaymentMethods,Vs=e=>e.paymentMethodData,qs=e=>{const{availablePaymentMethods:t,availableExpressPaymentMethods:r,paymentMethodsInitialized:a,expressPaymentMethodsInitialized:s}=e;return a&&s?Object.fromEntries(Object.entries(Rs).filter((([e])=>!(e in{...t,...r})))):{}},Bs=e=>e.savedPaymentMethods,Fs=e=>((e=[],t)=>{if(0===e.length)return{};const r=(0,Wa.getPaymentMethods)(),a=Object.fromEntries(e.map((e=>[e,r[e]]))),s=Object.keys(t),i={};return s.forEach((e=>{const r=t[e].filter((({method:{gateway:e}})=>{var t;return e in a&&(null===(t=a[e].supports)||void 0===t?void 0:t.showSavedCards)}));r.length&&(i[e]=r)})),i})(Object.keys(e.availablePaymentMethods),e.savedPaymentMethods),$s=e=>e.paymentMethodsInitialized,Gs=e=>e.expressPaymentMethodsInitialized,zs=e=>(is()("getCurrentStatus",{since:"8.9.0",alternative:"isPaymentIdle, isPaymentProcessing, hasPaymentError",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/7666"}),{get isPristine(){return is()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks"}),Cs(e)},isIdle:Cs(e),isStarted:ks(e),isProcessing:Ds(e),get isFinished(){return is()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),Ns(e)||Os(e)},hasError:Ns(e),get hasFailed(){return is()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),Ns(e)},get isSuccessful(){return is()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),Os(e)},isDoingExpressPayment:Ls(e)}),Ks=e=>e.shouldSavePaymentMethod,Xs=e=>e.paymentResult,Qs=e=>e,Ws={reducer:(e=Ka,t)=>{let r=e;switch(t.type){case Xa.SET_PAYMENT_IDLE:r={...e,status:fr.IDLE};break;case Xa.SET_EXPRESS_PAYMENT_STARTED:r={...e,status:fr.EXPRESS_STARTED};break;case Xa.SET_PAYMENT_PROCESSING:r={...e,status:fr.PROCESSING};break;case Xa.SET_PAYMENT_READY:r={...e,status:fr.READY};break;case Xa.SET_PAYMENT_ERROR:r={...e,status:fr.ERROR};break;case Xa.SET_SHOULD_SAVE_PAYMENT_METHOD:r={...e,shouldSavePaymentMethod:t.shouldSavePaymentMethod};break;case Xa.SET_PAYMENT_METHOD_DATA:r={...e,paymentMethodData:t.paymentMethodData};break;case Xa.SET_PAYMENT_RESULT:r={...e,paymentResult:t.data};break;case Xa.REMOVE_AVAILABLE_PAYMENT_METHOD:const a={...e.availablePaymentMethods};delete a[t.name],r={...e,availablePaymentMethods:{...a}};break;case Xa.REMOVE_AVAILABLE_EXPRESS_PAYMENT_METHOD:const s={...e.availablePaymentMethods};delete s[t.name],r={...e,availableExpressPaymentMethods:{...s}};break;case Xa.SET_PAYMENT_METHODS_INITIALIZED:r={...e,paymentMethodsInitialized:t.initialized};break;case Xa.SET_EXPRESS_PAYMENT_METHODS_INITIALIZED:r={...e,expressPaymentMethodsInitialized:t.initialized};break;case Xa.SET_AVAILABLE_PAYMENT_METHODS:r={...e,availablePaymentMethods:t.paymentMethods};break;case Xa.SET_AVAILABLE_EXPRESS_PAYMENT_METHODS:r={...e,availableExpressPaymentMethods:t.paymentMethods};break;case Xa.SET_ACTIVE_PAYMENT_METHOD:const i="object"==typeof e.paymentMethodData&&bt(t.paymentMethodData,"token")?t.paymentMethodData.token+"":"";r={...e,activeSavedToken:i,activePaymentMethod:t.activePaymentMethod,paymentMethodData:t.paymentMethodData||e.paymentMethodData};break;default:return r}return r},selectors:m,actions:_,controls:{...v.controls,...ve},__experimentalUseThunks:!0},Zs=(0,T.createReduxStore)(br,Ws);(0,T.register)(Zs);const Js=br,ei="SET_VALIDATION_ERRORS",ti="CLEAR_VALIDATION_ERROR",ri="CLEAR_VALIDATION_ERRORS",ai="HIDE_VALIDATION_ERROR",si="SHOW_VALIDATION_ERROR",ii="SHOW_ALL_VALIDATION_ERRORS",ni=e=>({type:ei,errors:e}),oi=e=>({type:ri,errors:e}),ci=()=>(is()("clearAllValidationErrors",{version:"9.0.0",alternative:"clearValidationErrors",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/7601",hint:"Calling `clearValidationErrors` with no arguments will clear all validation errors."}),oi()),li=e=>({type:ti,error:e}),di=e=>({type:ai,error:e}),ui=e=>({type:si,error:e}),pi=()=>({type:ii}),_i=(e,t)=>e[t],mi=(e,t)=>{if(e.hasOwnProperty(t)&&!e[t].hidden)return`validate-error-${t}`},hi=e=>Object.keys(e).length>0,gi={reducer:(e={},t)=>{const r={...e};switch(t.type){case ei:return t.errors&&Object.entries(t.errors).some((([t,r])=>!("string"!=typeof(null==r?void 0:r.message)||e.hasOwnProperty(t)&&tr()(e[t],r))))?{...e,...t.errors}:e;case ti:return jr(t.error)&&r.hasOwnProperty(t.error)?(delete r[t.error],r):r;case ri:const{errors:a}=t;return void 0===a?{}:Array.isArray(a)?(a.forEach((e=>{r.hasOwnProperty(e)&&delete r[e]})),r):r;case ai:return jr(t.error)&&r.hasOwnProperty(t.error)?(r[t.error].hidden=!0,r):r;case si:return jr(t.error)&&r.hasOwnProperty(t.error)?(r[t.error].hidden=!1,r):r;case ii:return Object.keys(r).forEach((e=>{r[e].hidden&&(r[e].hidden=!1)})),{...r};default:return e}},selectors:g,actions:h},yi=(0,T.createReduxStore)(mr,gi);(0,T.register)(yi);const Ei=mr,Si="wc/store/query-state",bi=(e,t)=>void 0===e[t]?null:e[t],fi=(e,t,r,a={})=>{let s=bi(e,t);return null===s?a:(s=JSON.parse(s),void 0!==s[r]?s[r]:a)},Ti=(e,t,r={})=>{const a=bi(e,t);return null===a?r:JSON.parse(a)},vi="SET_QUERY_KEY_VALUE",Ai="SET_QUERY_CONTEXT_VALUE",Pi=(e,t,r)=>({type:vi,context:e,queryKey:t,value:r}),Ri=(e,t)=>({type:Ai,context:e,value:t}),wi=(0,T.createReduxStore)(Si,{reducer:(e={},t)=>{const{type:r,context:a,queryKey:s,value:i}=t,n=bi(e,a);let o;switch(r){case vi:const t=null!==n?JSON.parse(n):{};t[s]=i,o=JSON.stringify(t),n!==o&&(e={...e,[a]:o});break;case Ai:o=JSON.stringify(i),n!==o&&(e={...e,[a]:o})}return e},actions:E,selectors:y});(0,T.register)(wi);const Ci=Si;let Ii=function(e){return e.REGISTER_CONTAINER="REGISTER_CONTAINER",e.UNREGISTER_CONTAINER="UNREGISTER_CONTAINER",e}({});const ki=e=>({type:Ii.REGISTER_CONTAINER,containerContext:e}),Di=e=>({type:Ii.UNREGISTER_CONTAINER,containerContext:e}),Oi=e=>e.containers,Mi={containers:[]},Ni="wc/store/store-notices",xi={reducer:(e=Mi,t)=>{switch(t.type){case Ii.REGISTER_CONTAINER:return{...e,containers:[...e.containers,t.containerContext]};case Ii.UNREGISTER_CONTAINER:const r=e.containers.filter((e=>e!==t.containerContext));return{...e,containers:r}}return e},actions:S,selectors:b},Li=(0,T.createReduxStore)(Ni,xi);(0,T.register)(Li);const Yi=Ni})(),(this.wc=this.wc||{}).wcBlocksData=a})();