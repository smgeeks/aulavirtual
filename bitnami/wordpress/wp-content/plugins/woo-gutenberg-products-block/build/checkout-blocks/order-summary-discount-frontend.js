(self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[]).push([[6262],{1037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(9307),s=n(3554),a=n(6484),r=n(7350),c=n(4333),i=n(9075),l=n(4617),p=n(9127),d=n.n(p),u=n(3340),m=n(9822),g=n(6767);const b=Object.keys(l.defaultAddressFields),h=(0,c.withInstanceId)((({id:e="",fields:t=b,fieldConfig:n={},instanceId:c,onChange:l,type:p="shipping",values:h})=>{const k=(0,i.s)(t),y=(0,i.s)(n),f=(0,i.s)(h.country),v=(0,o.useMemo)((()=>{const e=(0,u.Z)(k,y,f);return{fields:e,type:p,required:e.filter((e=>e.required)),hidden:e.filter((e=>e.hidden))}}),[k,y,f,p]),_=(0,o.useRef)({});return(0,o.useEffect)((()=>{const e={...h,...Object.fromEntries(v.hidden.map((e=>[e.key,""])))};d()(h,e)||l(e)}),[l,v,h]),(0,o.useEffect)((()=>{"shipping"===p&&(0,m.Z)(h)}),[h,p]),(0,o.useEffect)((()=>{var e,t;null===(e=_.current)||void 0===e||null===(t=e.postcode)||void 0===t||t.revalidate()}),[f]),e=e||c,(0,o.createElement)("div",{id:e,className:"wc-block-components-address-form"},v.fields.map((t=>{if(t.hidden)return null;const n={id:`${e}-${t.key}`,errorId:`${p}_${t.key}`,label:t.required?t.label:t.optionalLabel,autoCapitalize:t.autocapitalize,autoComplete:t.autocomplete,errorMessage:t.errorMessage,required:t.required,className:`wc-block-components-address-form__${t.key}`};if("country"===t.key){const e="shipping"===p?a.he:a.eQ;return(0,o.createElement)(e,{key:t.key,...n,value:h.country,onChange:e=>{const t={...h,country:e,state:""};h.postcode&&!(0,s.isPostcode)({postcode:h.postcode,country:e})&&(t.postcode=""),l(t)}})}if("state"===t.key){const e="shipping"===p?r.dI:r.IG;return(0,o.createElement)(e,{key:t.key,...n,country:h.country,value:h.state,onChange:e=>l({...h,state:e})})}return(0,o.createElement)(s.ValidatedTextInput,{key:t.key,ref:e=>_.current[t.key]=e,...n,value:h[t.key],onChange:e=>l({...h,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e,customValidation:e=>(0,g.Z)(e,t.key,h)})})))}))},5182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(9307),s=n(4184),a=n.n(s),r=n(5736),c=n(2629),i=n(3554),l=n(6674),p=n(5027),d=n(3087),u=n(4799),m=n(9097),g=n(4293),b=n(9226),h=n(4617);const k=e=>{const t=(0,h.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:(0,c.decodeEntities)(e.name),value:e.rate_id,description:(0,o.createElement)(o.Fragment,null,Number.isFinite(t)&&(0,o.createElement)(b.Z,{currency:(0,g.getCurrencyFromPriceResponse)(e),value:t}),Number.isFinite(t)&&e.delivery_time?" — ":null,(0,c.decodeEntities)(e.delivery_time))}},y=({className:e="",noResultsMessage:t,onSelectRate:n,rates:s,renderOption:a=k,selectedRate:r,disabled:c=!1})=>{const i=(null==r?void 0:r.rate_id)||"",l=(0,m.D)(i),[p,d]=(0,o.useState)((()=>{var e;return i||(null===(e=s[0])||void 0===e?void 0:e.rate_id)}));if((0,o.useEffect)((()=>{i&&i!==l&&i!==p&&d(i)}),[i,p,l]),(0,o.useEffect)((()=>{p&&n(p)}),[n,p]),0===s.length)return t;if(s.length>1)return(0,o.createElement)(u.ZP,{className:e,onChange:e=>{d(e),n(e)},disabled:c,selected:p,options:s.map(a)});const{label:g,secondaryLabel:b,description:h,secondaryDescription:y}=a(s[0]);return(0,o.createElement)(u.GC,{label:g,secondaryLabel:b,description:h,secondaryDescription:y})};n(6125);const f=({packageId:e,className:t="",noResultsMessage:n,renderOption:s,packageData:u,collapsible:m,showItems:g})=>{const{selectShippingRate:b,isSelectingRate:h}=(0,p.V)(),k=document.querySelectorAll(".wc-block-components-shipping-rates-control__package").length>1,f=null!=g?g:k,v=null!=m?m:k,_=(0,o.createElement)(o.Fragment,null,(v||f)&&(0,o.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:{__html:(0,d.j)(u.name)}}),f&&(0,o.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(u.items).map((e=>{const t=(0,c.decodeEntities)(e.name),n=e.quantity;return(0,o.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},(0,o.createElement)(l.Z,{label:n>1?`${t} × ${n}`:`${t}`,screenReaderLabel:(0,r.sprintf)(/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
(0,r._n)("%1$s (%2$d unit)","%1$s (%2$d units)",n,"woo-gutenberg-products-block"),t,n)}))})))),E=(0,o.useCallback)((t=>{b(t,e)}),[e,b]),C={className:t,noResultsMessage:n,rates:u.shipping_rates,onSelectRate:E,selectedRate:u.shipping_rates.find((e=>e.selected)),renderOption:s,disabled:h};return v?(0,o.createElement)(i.Panel,{className:a()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":h}),initialOpen:!1,title:_},(0,o.createElement)(y,{...C})):(0,o.createElement)("div",{className:a()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":h})},_,(0,o.createElement)(y,{...C}))}},4401:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var o=n(5736),s=n(5158);const a=(e,t)=>{1===e?(0,s.speak)((0,o.sprintf)(/* translators: %d number of shipping options found. */
(0,o._n)("%d shipping option was found.","%d shipping options were found.",t,"woo-gutenberg-products-block"),t)):(0,s.speak)((0,o.sprintf)(/* translators: %d number of shipping packages packages. */
(0,o._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",e,"woo-gutenberg-products-block"),e)+" "+(0,o.sprintf)(/* translators: %d number of shipping options available. */
(0,o._n)("%d shipping option was found","%d shipping options were found",t,"woo-gutenberg-products-block"),t))}},9226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(9307),s=n(7333),a=n(4184),r=n.n(a);n(5476);const c=e=>({thousandSeparator:null==e?void 0:e.thousandSeparator,decimalSeparator:null==e?void 0:e.decimalSeparator,fixedDecimalScale:!0,prefix:null==e?void 0:e.prefix,suffix:null==e?void 0:e.suffix,isNumericString:!0}),i=({className:e,value:t,currency:n,onValueChange:a,displayType:i="text",...l})=>{var p;const d="string"==typeof t?parseInt(t,10):t;if(!Number.isFinite(d))return null;const u=d/10**n.minorUnit;if(!Number.isFinite(u))return null;const m=r()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",e),g=null!==(p=l.decimalScale)&&void 0!==p?p:null==n?void 0:n.minorUnit,b={...l,...c(n),decimalScale:g,value:void 0,currency:void 0,onValueChange:void 0},h=a?e=>{const t=+e.value*10**n.minorUnit;a(t)}:()=>{};return(0,o.createElement)(s.Z,{className:m,displayType:i,...b,value:u,onValueChange:h})}},6674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(9307),s=n(4184),a=n.n(s);const r=({label:e,screenReaderLabel:t,wrapperElement:n,wrapperProps:s={}})=>{let r;const c=null!=e,i=null!=t;return!c&&i?(r=n||"span",s={...s,className:a()(s.className,"screen-reader-text")},(0,o.createElement)(r,{...s},t)):(r=n||o.Fragment,c&&i&&e!==t?(0,o.createElement)(r,{...s},(0,o.createElement)("span",{"aria-hidden":"true"},e),(0,o.createElement)("span",{className:"screen-reader-text"},t)):(0,o.createElement)(r,{...s},e))}},1193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(9307),s=n(5736),a=n(4184),r=n.n(a),c=(n(6575),n(5068));const i=({children:e,className:t,screenReaderLabel:n,showSpinner:a=!1,isLoading:i=!0})=>(0,o.createElement)("div",{className:r()(t,{"wc-block-components-loading-mask":i})},i&&a&&(0,o.createElement)(c.Z,null),(0,o.createElement)("div",{className:r()({"wc-block-components-loading-mask__children":i}),"aria-hidden":i},e),i&&(0,o.createElement)("span",{className:"screen-reader-text"},n||(0,s.__)("Loading…","woo-gutenberg-products-block")))},395:(e,t,n)=>{"use strict";n.d(t,{X:()=>c,x:()=>r});var o=n(8184),s=n(5430),a=n(5045);const r=e=>{switch(e){case"success":case"warning":case"info":case"default":return"polite";default:return"assertive"}},c=e=>{switch(e){case"success":return o.Z;case"warning":case"info":case"error":return s.Z;default:return a.Z}}},4799:(e,t,n)=>{"use strict";n.d(t,{GC:()=>i.Z,ZP:()=>p});var o=n(9307),s=n(4184),a=n.n(s),r=n(4333),c=n(8802),i=(n(7546),n(2480));const l=({className:e="",id:t,selected:n="",onChange:s,options:i=[],disabled:p=!1})=>{const d=(0,r.useInstanceId)(l),u=t||d;return i.length?(0,o.createElement)("div",{className:a()("wc-block-components-radio-control",e)},i.map((e=>(0,o.createElement)(c.Z,{key:`${u}-${e.value}`,name:`radio-control-${u}`,checked:e.value===n,option:e,onChange:t=>{s(t),"function"==typeof e.onChange&&e.onChange(t)},disabled:p})))):null},p=l},8802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(9307),s=n(4184),a=n.n(s),r=n(2480);const c=({checked:e,name:t,onChange:n,option:s,disabled:c=!1})=>{const{value:i,label:l,description:p,secondaryLabel:d,secondaryDescription:u}=s;return(0,o.createElement)("label",{className:a()("wc-block-components-radio-control__option",{"wc-block-components-radio-control__option-checked":e}),htmlFor:`${t}-${i}`},(0,o.createElement)("input",{id:`${t}-${i}`,className:"wc-block-components-radio-control__input",type:"radio",name:t,value:i,onChange:e=>n(e.target.value),checked:e,"aria-describedby":a()({[`${t}-${i}__label`]:l,[`${t}-${i}__secondary-label`]:d,[`${t}-${i}__description`]:p,[`${t}-${i}__secondary-description`]:u}),disabled:c}),(0,o.createElement)(r.Z,{id:`${t}-${i}`,label:l,secondaryLabel:d,description:p,secondaryDescription:u}))}},5068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(9307);n(5589);const s=()=>(0,o.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},1137:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var o=n(5736),s=n(9818),a=n(4801),r=n(2629),c=n(3554),i=n(4055);const l=(e="")=>{const{cartCoupons:t,cartIsLoading:n}=(0,i.b)(),{createErrorNotice:l}=(0,s.useDispatch)("core/notices"),{createNotice:p}=(0,s.useDispatch)("core/notices"),{setValidationErrors:d}=(0,s.useDispatch)(a.VALIDATION_STORE_KEY),{isApplyingCoupon:u,isRemovingCoupon:m}=(0,s.useSelect)((e=>{const t=e(a.CART_STORE_KEY);return{isApplyingCoupon:t.isApplyingCoupon(),isRemovingCoupon:t.isRemovingCoupon()}}),[l,p]),{applyCoupon:g,removeCoupon:b}=(0,s.useDispatch)(a.CART_STORE_KEY);return{appliedCoupons:t,isLoading:n,applyCoupon:t=>g(t).then((()=>((0,c.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&p("info",(0,o.sprintf)(/* translators: %s coupon code. */
(0,o.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>(d({coupon:{message:(0,r.decodeEntities)(e.message),hidden:!1}}),Promise.resolve(!1)))),removeCoupon:t=>b(t).then((()=>((0,c.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&p("info",(0,o.sprintf)(/* translators: %s coupon code. */
(0,o.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>(l(t.message,{id:"coupon-form",context:e}),Promise.resolve(!1)))),isApplyingCoupon:u,isRemovingCoupon:m}}},1642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o=n(9307),s=n(8945),a=n(4293),r=n(4055),c=n(1137),i=n(3554);const l=()=>{const{extensions:e,receiveCart:t,...n}=(0,r.b)(),s={extensions:e,cart:n,context:"woocommerce/checkout"};return(0,o.createElement)(i.ExperimentalDiscountsMeta.Slot,{...s})},p=({className:e=""})=>{const{cartTotals:t,cartCoupons:n}=(0,r.b)(),{removeCoupon:p,isRemovingCoupon:d}=(0,c.K)("wc/checkout"),u=(0,a.getCurrencyFromPriceResponse)(t);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.TotalsWrapper,{className:e},(0,o.createElement)(s.X$,{cartCoupons:n,currency:u,isRemovingCoupon:d,removeCoupon:p,values:t})),(0,o.createElement)(l,null))}},6575:()=>{},5589:()=>{}}]);