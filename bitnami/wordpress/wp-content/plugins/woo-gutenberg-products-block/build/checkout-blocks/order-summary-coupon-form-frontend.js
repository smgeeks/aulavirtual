(self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[]).push([[8459],{1037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(9307),a=n(3554),s=n(6484),c=n(7350),r=n(4333),i=n(9075),l=n(4617),p=n(9127),d=n.n(p),u=n(3340),m=n(9822),g=n(6767);const b=Object.keys(l.defaultAddressFields),h=(0,r.withInstanceId)((({id:e="",fields:t=b,fieldConfig:n={},instanceId:r,onChange:l,type:p="shipping",values:h})=>{const k=(0,i.s)(t),y=(0,i.s)(n),f=(0,i.s)(h.country),v=(0,o.useMemo)((()=>{const e=(0,u.Z)(k,y,f);return{fields:e,type:p,required:e.filter((e=>e.required)),hidden:e.filter((e=>e.hidden))}}),[k,y,f,p]),_=(0,o.useRef)({});return(0,o.useEffect)((()=>{const e={...h,...Object.fromEntries(v.hidden.map((e=>[e.key,""])))};d()(h,e)||l(e)}),[l,v,h]),(0,o.useEffect)((()=>{"shipping"===p&&(0,m.Z)(h)}),[h,p]),(0,o.useEffect)((()=>{var e,t;null===(e=_.current)||void 0===e||null===(t=e.postcode)||void 0===t||t.revalidate()}),[f]),e=e||r,(0,o.createElement)("div",{id:e,className:"wc-block-components-address-form"},v.fields.map((t=>{if(t.hidden)return null;const n={id:`${e}-${t.key}`,errorId:`${p}_${t.key}`,label:t.required?t.label:t.optionalLabel,autoCapitalize:t.autocapitalize,autoComplete:t.autocomplete,errorMessage:t.errorMessage,required:t.required,className:`wc-block-components-address-form__${t.key}`};if("country"===t.key){const e="shipping"===p?s.he:s.eQ;return(0,o.createElement)(e,{key:t.key,...n,value:h.country,onChange:e=>{const t={...h,country:e,state:""};h.postcode&&!(0,a.isPostcode)({postcode:h.postcode,country:e})&&(t.postcode=""),l(t)}})}if("state"===t.key){const e="shipping"===p?c.dI:c.IG;return(0,o.createElement)(e,{key:t.key,...n,country:h.country,value:h.state,onChange:e=>l({...h,state:e})})}return(0,o.createElement)(a.ValidatedTextInput,{key:t.key,ref:e=>_.current[t.key]=e,...n,value:h[t.key],onChange:e=>l({...h,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e,customValidation:e=>(0,g.Z)(e,t.key,h)})})))}))},5182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(9307),a=n(4184),s=n.n(a),c=n(5736),r=n(2629),i=n(3554),l=n(6674),p=n(5027),d=n(3087),u=n(4799),m=n(9097),g=n(4293),b=n(9226),h=n(4617);const k=e=>{const t=(0,h.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:(0,r.decodeEntities)(e.name),value:e.rate_id,description:(0,o.createElement)(o.Fragment,null,Number.isFinite(t)&&(0,o.createElement)(b.Z,{currency:(0,g.getCurrencyFromPriceResponse)(e),value:t}),Number.isFinite(t)&&e.delivery_time?" — ":null,(0,r.decodeEntities)(e.delivery_time))}},y=({className:e="",noResultsMessage:t,onSelectRate:n,rates:a,renderOption:s=k,selectedRate:c,disabled:r=!1})=>{const i=(null==c?void 0:c.rate_id)||"",l=(0,m.D)(i),[p,d]=(0,o.useState)((()=>{var e;return i||(null===(e=a[0])||void 0===e?void 0:e.rate_id)}));if((0,o.useEffect)((()=>{i&&i!==l&&i!==p&&d(i)}),[i,p,l]),(0,o.useEffect)((()=>{p&&n(p)}),[n,p]),0===a.length)return t;if(a.length>1)return(0,o.createElement)(u.ZP,{className:e,onChange:e=>{d(e),n(e)},disabled:r,selected:p,options:a.map(s)});const{label:g,secondaryLabel:b,description:h,secondaryDescription:y}=s(a[0]);return(0,o.createElement)(u.GC,{label:g,secondaryLabel:b,description:h,secondaryDescription:y})};n(6125);const f=({packageId:e,className:t="",noResultsMessage:n,renderOption:a,packageData:u,collapsible:m,showItems:g})=>{const{selectShippingRate:b,isSelectingRate:h}=(0,p.V)(),k=document.querySelectorAll(".wc-block-components-shipping-rates-control__package").length>1,f=null!=g?g:k,v=null!=m?m:k,_=(0,o.createElement)(o.Fragment,null,(v||f)&&(0,o.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:{__html:(0,d.j)(u.name)}}),f&&(0,o.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(u.items).map((e=>{const t=(0,r.decodeEntities)(e.name),n=e.quantity;return(0,o.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},(0,o.createElement)(l.Z,{label:n>1?`${t} × ${n}`:`${t}`,screenReaderLabel:(0,c.sprintf)(/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
(0,c._n)("%1$s (%2$d unit)","%1$s (%2$d units)",n,"woo-gutenberg-products-block"),t,n)}))})))),E=(0,o.useCallback)((t=>{b(t,e)}),[e,b]),C={className:t,noResultsMessage:n,rates:u.shipping_rates,onSelectRate:E,selectedRate:u.shipping_rates.find((e=>e.selected)),renderOption:a,disabled:h};return v?(0,o.createElement)(i.Panel,{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":h}),initialOpen:!1,title:_},(0,o.createElement)(y,{...C})):(0,o.createElement)("div",{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":h})},_,(0,o.createElement)(y,{...C}))}},4401:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var o=n(5736),a=n(5158);const s=(e,t)=>{1===e?(0,a.speak)((0,o.sprintf)(/* translators: %d number of shipping options found. */
(0,o._n)("%d shipping option was found.","%d shipping options were found.",t,"woo-gutenberg-products-block"),t)):(0,a.speak)((0,o.sprintf)(/* translators: %d number of shipping packages packages. */
(0,o._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",e,"woo-gutenberg-products-block"),e)+" "+(0,o.sprintf)(/* translators: %d number of shipping options available. */
(0,o._n)("%d shipping option was found","%d shipping options were found",t,"woo-gutenberg-products-block"),t))}},9226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(9307),a=n(7333),s=n(4184),c=n.n(s);n(5476);const r=e=>({thousandSeparator:null==e?void 0:e.thousandSeparator,decimalSeparator:null==e?void 0:e.decimalSeparator,fixedDecimalScale:!0,prefix:null==e?void 0:e.prefix,suffix:null==e?void 0:e.suffix,isNumericString:!0}),i=({className:e,value:t,currency:n,onValueChange:s,displayType:i="text",...l})=>{var p;const d="string"==typeof t?parseInt(t,10):t;if(!Number.isFinite(d))return null;const u=d/10**n.minorUnit;if(!Number.isFinite(u))return null;const m=c()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",e),g=null!==(p=l.decimalScale)&&void 0!==p?p:null==n?void 0:n.minorUnit,b={...l,...r(n),decimalScale:g,value:void 0,currency:void 0,onValueChange:void 0},h=s?e=>{const t=+e.value*10**n.minorUnit;s(t)}:()=>{};return(0,o.createElement)(a.Z,{className:m,displayType:i,...b,value:u,onValueChange:h})}},6674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(9307),a=n(4184),s=n.n(a);const c=({label:e,screenReaderLabel:t,wrapperElement:n,wrapperProps:a={}})=>{let c;const r=null!=e,i=null!=t;return!r&&i?(c=n||"span",a={...a,className:s()(a.className,"screen-reader-text")},(0,o.createElement)(c,{...a},t)):(c=n||o.Fragment,r&&i&&e!==t?(0,o.createElement)(c,{...a},(0,o.createElement)("span",{"aria-hidden":"true"},e),(0,o.createElement)("span",{className:"screen-reader-text"},t)):(0,o.createElement)(c,{...a},e))}},1193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(9307),a=n(5736),s=n(4184),c=n.n(s),r=(n(6575),n(5068));const i=({children:e,className:t,screenReaderLabel:n,showSpinner:s=!1,isLoading:i=!0})=>(0,o.createElement)("div",{className:c()(t,{"wc-block-components-loading-mask":i})},i&&s&&(0,o.createElement)(r.Z,null),(0,o.createElement)("div",{className:c()({"wc-block-components-loading-mask__children":i}),"aria-hidden":i},e),i&&(0,o.createElement)("span",{className:"screen-reader-text"},n||(0,a.__)("Loading…","woo-gutenberg-products-block")))},395:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,x:()=>c});var o=n(8184),a=n(5430),s=n(5045);const c=e=>{switch(e){case"success":case"warning":case"info":case"default":return"polite";default:return"assertive"}},r=e=>{switch(e){case"success":return o.Z;case"warning":case"info":case"error":return a.Z;default:return s.Z}}},4799:(e,t,n)=>{"use strict";n.d(t,{GC:()=>i.Z,ZP:()=>p});var o=n(9307),a=n(4184),s=n.n(a),c=n(4333),r=n(8802),i=(n(7546),n(2480));const l=({className:e="",id:t,selected:n="",onChange:a,options:i=[],disabled:p=!1})=>{const d=(0,c.useInstanceId)(l),u=t||d;return i.length?(0,o.createElement)("div",{className:s()("wc-block-components-radio-control",e)},i.map((e=>(0,o.createElement)(r.Z,{key:`${u}-${e.value}`,name:`radio-control-${u}`,checked:e.value===n,option:e,onChange:t=>{a(t),"function"==typeof e.onChange&&e.onChange(t)},disabled:p})))):null},p=l},8802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(9307),a=n(4184),s=n.n(a),c=n(2480);const r=({checked:e,name:t,onChange:n,option:a,disabled:r=!1})=>{const{value:i,label:l,description:p,secondaryLabel:d,secondaryDescription:u}=a;return(0,o.createElement)("label",{className:s()("wc-block-components-radio-control__option",{"wc-block-components-radio-control__option-checked":e}),htmlFor:`${t}-${i}`},(0,o.createElement)("input",{id:`${t}-${i}`,className:"wc-block-components-radio-control__input",type:"radio",name:t,value:i,onChange:e=>n(e.target.value),checked:e,"aria-describedby":s()({[`${t}-${i}__label`]:l,[`${t}-${i}__secondary-label`]:d,[`${t}-${i}__description`]:p,[`${t}-${i}__secondary-description`]:u}),disabled:r}),(0,o.createElement)(c.Z,{id:`${t}-${i}`,label:l,secondaryLabel:d,description:p,secondaryDescription:u}))}},5068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(9307);n(5589);const a=()=>(0,o.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},1137:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var o=n(5736),a=n(9818),s=n(4801),c=n(2629),r=n(3554),i=n(4055);const l=(e="")=>{const{cartCoupons:t,cartIsLoading:n}=(0,i.b)(),{createErrorNotice:l}=(0,a.useDispatch)("core/notices"),{createNotice:p}=(0,a.useDispatch)("core/notices"),{setValidationErrors:d}=(0,a.useDispatch)(s.VALIDATION_STORE_KEY),{isApplyingCoupon:u,isRemovingCoupon:m}=(0,a.useSelect)((e=>{const t=e(s.CART_STORE_KEY);return{isApplyingCoupon:t.isApplyingCoupon(),isRemovingCoupon:t.isRemovingCoupon()}}),[l,p]),{applyCoupon:g,removeCoupon:b}=(0,a.useDispatch)(s.CART_STORE_KEY);return{appliedCoupons:t,isLoading:n,applyCoupon:t=>g(t).then((()=>((0,r.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&p("info",(0,o.sprintf)(/* translators: %s coupon code. */
(0,o.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>(d({coupon:{message:(0,c.decodeEntities)(e.message),hidden:!1}}),Promise.resolve(!1)))),removeCoupon:t=>b(t).then((()=>((0,r.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&p("info",(0,o.sprintf)(/* translators: %s coupon code. */
(0,o.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>(l(t.message,{id:"coupon-form",context:e}),Promise.resolve(!1)))),isApplyingCoupon:u,isRemovingCoupon:m}}},4682:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(9307),a=n(8945),s=n(1137),c=n(4617),r=n(3554);const i=({className:e=""})=>{const t=(0,c.getSetting)("couponsEnabled",!0),{applyCoupon:n,isApplyingCoupon:i}=(0,s.K)("wc/checkout");return t?(0,o.createElement)(r.TotalsWrapper,{className:e},(0,o.createElement)(a.RK,{onSubmit:n,isLoading:i})):null}},6575:()=>{},5589:()=>{}}]);