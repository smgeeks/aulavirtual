(self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[]).push([[4097],{5024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Pe});var n=r(9307),a=r(4055),o=r(4184),i=r.n(o),c=r(5736),s=r(5158),u=r(9630),l=r(4697);r(4667);const m=({className:e,quantity:t=1,minimum:r=1,maximum:a,onChange:o=(()=>{}),step:m=1,itemName:p="",disabled:d})=>{const f=i()("wc-block-components-quantity-selector",e),h=(0,n.useRef)(null),g=(0,n.useRef)(null),v=(0,n.useRef)(null),y=void 0!==a,b=!d&&t-m>=r,_=!d&&(!y||t+m<=a),E=(0,n.useCallback)((e=>{let t=e;y&&(t=Math.min(t,Math.floor(a/m)*m)),t=Math.max(t,Math.ceil(r/m)*m),t=Math.floor(t/m)*m,t!==e&&o(t)}),[y,a,r,o,m]),w=(0,l.y1)(E,300);(0,n.useLayoutEffect)((()=>{E(t)}),[t,E]);const S=(0,n.useCallback)((e=>{const r=void 0!==typeof e.key?"ArrowDown"===e.key:e.keyCode===u.DOWN,n=void 0!==typeof e.key?"ArrowUp"===e.key:e.keyCode===u.UP;r&&b&&(e.preventDefault(),o(t-m)),n&&_&&(e.preventDefault(),o(t+m))}),[t,o,_,b,m]);return(0,n.createElement)("div",{className:f},(0,n.createElement)("input",{ref:h,className:"wc-block-components-quantity-selector__input",disabled:d,type:"number",step:m,min:r,max:a,value:t,onKeyDown:S,onChange:e=>{let r=parseInt(e.target.value,10);r=isNaN(r)?t:r,r!==t&&(o(r),w(r))},"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("Quantity of %s in your cart.","woo-gutenberg-products-block"),p)}),(0,n.createElement)("button",{ref:g,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("Reduce quantity of %s","woo-gutenberg-products-block"),p),className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--minus",disabled:!b,onClick:()=>{const e=t-m;o(e),(0,s.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity reduced to %s.","woo-gutenberg-products-block"),e)),E(e)}},"－"),(0,n.createElement)("button",{ref:v,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */
(0,c.__)("Increase quantity of %s","woo-gutenberg-products-block"),p),disabled:!_,className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--plus",onClick:()=>{const e=t+m;o(e),(0,s.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity increased to %s.","woo-gutenberg-products-block"),e)),E(e)}},"＋"))};var p=r(9196),d=r.n(p);function f(){}function h(e){return!!(e||"").match(/\d/)}function g(e){return null==e}function v(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function y(e,t){void 0===t&&(t=!0);var r="-"===e[0],n=r&&t,a=(e=e.replace("-","")).split(".");return{beforeDecimal:a[0],afterDecimal:a[1]||"",hasNagation:r,addNegation:n}}function b(e,t,r){for(var n="",a=r?"0":"",o=0;o<=t-1;o++)n+=e[o]||a;return n}function _(e,t){return Array(t+1).join(e)}function E(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function w(e,t,r){return Math.min(Math.max(e,t),r)}function S(e){return Math.max(e.selectionStart,e.selectionEnd)}var k={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,allowLeadingZeros:!1,isNumericString:!1,type:"text",onValueChange:f,onChange:f,onKeyDown:f,onMouseUp:f,onFocus:f,onBlur:f,isAllowed:function(){return!0}},N=function(e){function t(t){e.call(this,t);var r=t.defaultValue;this.validateProps();var n=this.formatValueProp(r);this.state={value:n,numAsString:this.removeFormatting(n),mounted:!1},this.selectionBeforeInput={selectionStart:0,selectionEnd:0},this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.setState({mounted:!0})},t.prototype.componentDidUpdate=function(e){this.updateValueIfRequired(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout)},t.prototype.updateValueIfRequired=function(e){var t=this,r=t.props,n=t.state,a=t.focusedElm,o=n.value,i=n.numAsString;if(void 0===i&&(i=""),e!==r){this.validateProps();var c=this.formatNumString(i),s=g(r.value)?c:this.formatValueProp(),u=this.removeFormatting(s),l=parseFloat(u),m=parseFloat(i);(isNaN(l)&&isNaN(m)||l===m)&&c===o&&(null!==a||s===o)||this.updateValue({formattedValue:s,numAsString:u,input:a,source:"prop",event:null})}},t.prototype.getFloatString=function(e){void 0===e&&(e="");var t=this.props.decimalScale,r=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),a="-"===e[0];a&&(e=e.replace("-","")),r&&0===t&&(e=e.split(r)[0]);var o=(e=(e.match(n)||[]).join("").replace(r,".")).indexOf(".");return-1!==o&&(e=e.substring(0,o)+"."+e.substring(o+1,e.length).replace(new RegExp(v(r),"g"),"")),a&&(e="-"+e),e},t.prototype.getNumberRegex=function(e,t){var r=this.props,n=r.format,a=r.decimalScale,o=r.customNumerals,i=this.getSeparators().decimalSeparator;return new RegExp("[0-9"+(o?o.join(""):"")+"]"+(!i||0===a||t||n?"":"|"+v(i)),e?"g":void 0)},t.prototype.getSeparators=function(){var e=this.props.decimalSeparator,t=this.props,r=t.thousandSeparator,n=t.allowedDecimalSeparators;return!0===r&&(r=","),n||(n=[e,"."]),{decimalSeparator:e,thousandSeparator:r,allowedDecimalSeparators:n}},t.prototype.getMaskAtIndex=function(e){var t=this.props.mask;return void 0===t&&(t=" "),"string"==typeof t?t:t[e]||" "},t.prototype.getValueObject=function(e,t){var r=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(r)?void 0:r}},t.prototype.validateProps=function(){var e=this.props.mask,t=this.getSeparators(),r=t.decimalSeparator,n=t.thousandSeparator;if(r===n)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: "+n+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+r+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")},t.prototype.setPatchedCaretPosition=function(e,t,r){E(e,t),this.caretPositionTimeout=setTimeout((function(){e.value===r&&E(e,t)}),0)},t.prototype.correctCaretPosition=function(e,t,r){var n=this.props,a=n.prefix,o=n.suffix,i=n.format;if(""===e)return 0;if(t=w(t,0,e.length),!i){var c="-"===e[0];return w(t,a.length+(c?1:0),e.length-o.length)}if("function"==typeof i)return t;if("#"===i[t]&&h(e[t]))return t;if("#"===i[t-1]&&h(e[t-1]))return t;var s=i.indexOf("#");t=w(t,s,i.lastIndexOf("#")+1);for(var u=i.substring(t,i.length).indexOf("#"),l=t,m=t+(-1===u?0:u);l>s&&("#"!==i[l]||!h(e[l]));)l-=1;return!h(e[m])||"left"===r&&t!==s||t-l<m-t?h(e[l])?l+1:l:m},t.prototype.getCaretPosition=function(e,t,r){var n,a,o=this.props.format,i=this.state.value,c=this.getNumberRegex(!0),s=(e.match(c)||[]).join(""),u=(t.match(c)||[]).join("");for(n=0,a=0;a<r;a++){var l=e[a]||"",m=t[n]||"";if((l.match(c)||l===m)&&("0"!==l||!m.match(c)||"0"===m||s.length===u.length)){for(;l!==t[n]&&n<t.length;)n++;n++}}return"string"!=typeof o||i||(n=t.length),this.correctCaretPosition(t,n)},t.prototype.removePrefixAndSuffix=function(e){var t=this.props,r=t.format,n=t.prefix,a=t.suffix;if(!r&&e){var o="-"===e[0];o&&(e=e.substring(1,e.length));var i=(e=n&&0===e.indexOf(n)?e.substring(n.length,e.length):e).lastIndexOf(a);e=a&&-1!==i&&i===e.length-a.length?e.substring(0,i):e,o&&(e="-"+e)}return e},t.prototype.removePatternFormatting=function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),r=0,n="",a=0,o=t.length;a<=o;a++){var i=t[a]||"",c=a===o?e.length:e.indexOf(i,r);if(-1===c){n=e;break}n+=e.substring(r,c),r=c+i.length}return(n.match(this.getNumberRegex(!0))||[]).join("")},t.prototype.removeFormatting=function(e){var t=this.props,r=t.format,n=t.removeFormatting;return e?(r?e="string"==typeof r?this.removePatternFormatting(e):"function"==typeof n?n(e):(e.match(this.getNumberRegex(!0))||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e},t.prototype.formatWithPattern=function(e){for(var t=this.props.format,r=0,n=t.split(""),a=0,o=t.length;a<o;a++)"#"===t[a]&&(n[a]=e[r]||this.getMaskAtIndex(r),r+=1);return n.join("")},t.prototype.formatAsNumber=function(e){var t=this.props,r=t.decimalScale,n=t.fixedDecimalScale,a=t.prefix,o=t.suffix,i=t.allowNegative,c=t.thousandsGroupStyle,s=this.getSeparators(),u=s.thousandSeparator,l=s.decimalSeparator,m=-1!==e.indexOf(".")||r&&n,p=y(e,i),d=p.beforeDecimal,f=p.afterDecimal,h=p.addNegation;return void 0!==r&&(f=b(f,r,n)),u&&(d=function(e,t,r){var n=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(r),a=e.search(/[1-9]/);return a=-1===a?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+t)}(d,u,c)),a&&(d=a+d),o&&(f+=o),h&&(d="-"+d),d+(m&&l||"")+f},t.prototype.formatNumString=function(e){void 0===e&&(e="");var t=this.props,r=t.format,n=t.allowEmptyFormatting,a=t.customNumerals,o=e;if(a&&10===a.length){var i=new RegExp("["+a.join("")+"]","g");o=e.replace(i,(function(e){return a.indexOf(e).toString()}))}return""!==e||n?"-"!==e||r?"string"==typeof r?this.formatWithPattern(o):"function"==typeof r?r(o):this.formatAsNumber(o):"-":""},t.prototype.formatValueProp=function(e){var t=this.props,r=t.format,n=t.decimalScale,a=t.fixedDecimalScale,o=t.allowEmptyFormatting,i=this.props,c=i.value,s=i.isNumericString,u=!(c=g(c)?e:c)&&0!==c;return u&&o&&(c=""),u&&!o?"":("number"==typeof c&&(c=function(e){var t="-"===(e+="")[0]?"-":"";t&&(e=e.substring(1));var r=e.split(/[eE]/g),n=r[0],a=r[1];if(!(a=Number(a)))return t+n;var o=1+a,i=(n=n.replace(".","")).length;return o<0?n="0."+_("0",Math.abs(o))+n:o>=i?n+=_("0",o-i):n=(n.substring(0,o)||"0")+"."+n.substring(o),t+n}(c),s=!0),"Infinity"===c&&s&&(c=""),s&&!r&&"number"==typeof n&&(c=function(e,t,r){if(-1!==["","-"].indexOf(e))return e;var n=-1!==e.indexOf(".")&&t,a=y(e),o=a.beforeDecimal,i=a.afterDecimal,c=a.hasNagation,s=parseFloat("0."+(i||"0")),u=(i.length<=t?"0."+i:s.toFixed(t)).split(".");return(c?"-":"")+o.split("").reverse().reduce((function(e,t,r){return e.length>r?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),u[0])+(n?".":"")+b(u[1]||"",Math.min(t,i.length),r)}(c,n,a)),s?this.formatNumString(c):this.formatInput(c))},t.prototype.formatNegation=function(e){void 0===e&&(e="");var t=this.props.allowNegative,r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=r.test(e),o=n.test(e);return e=e.replace(/-/g,""),a&&!o&&t&&(e="-"+e),e},t.prototype.formatInput=function(e){return void 0===e&&(e=""),this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)},t.prototype.isCharacterAFormat=function(e,t){var r=this.props,n=r.format,a=r.prefix,o=r.suffix,i=r.decimalScale,c=r.fixedDecimalScale,s=this.getSeparators().decimalSeparator;return"string"==typeof n&&"#"!==n[e]||!(n||!(e<a.length||e>=t.length-o.length||i&&c&&t[e]===s))},t.prototype.correctInputValue=function(e,t,r){var n=this,a=this.props,o=a.format,i=a.allowNegative,c=a.prefix,s=a.suffix,u=a.decimalScale,l=this.getSeparators(),m=l.allowedDecimalSeparators,p=l.decimalSeparator,d=this.state.numAsString||"",f=this.selectionBeforeInput,h=f.selectionStart,g=f.selectionEnd,v=function(e,t){for(var r=0,n=0,a=e.length,o=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[o-1-n]&&o-n>r&&a-n>r;)n++;return{start:r,end:a-n}}(t,r),b=v.start,_=v.end;if(!o&&b===_&&-1!==m.indexOf(r[h])){var E=0===u?"":p;return r.substr(0,h)+E+r.substr(h+1,r.length)}var w=o?0:c.length,S=t.length-(o?0:s.length);if(r.length>t.length||!r.length||b===_||0===h&&g===t.length||0===b&&_===t.length||h===w&&g===S)return r;var k=t.substr(b,_-b);if([].concat(k).find((function(e,r){return n.isCharacterAFormat(r+b,t)}))){var N=t.substr(b),x={},P=[];[].concat(N).forEach((function(e,r){n.isCharacterAFormat(r+b,t)?x[r]=e:r>k.length-1&&P.push(e)})),Object.keys(x).forEach((function(e){P.length>e?P.splice(e,0,x[e]):P.push(x[e])})),r=t.substr(0,b)+P.join("")}if(!o){var A=this.removeFormatting(r),C=y(A,i),D=C.beforeDecimal,M=C.afterDecimal,F=C.addNegation,R=e<r.indexOf(p)+1;if(A.length<d.length&&R&&""===D&&!parseFloat(M))return F?"-":""}return r},t.prototype.updateValue=function(e){var t=e.formattedValue,r=e.input,n=e.setCaretPosition;void 0===n&&(n=!0);var a=e.source,o=e.event,i=e.numAsString,c=e.caretPos,s=this.props.onValueChange,u=this.state.value;if(r){if(void 0===c&&n){var l=e.inputValue||r.value,m=S(r);r.value=t,c=this.getCaretPosition(l,t,m)}r.value=t,n&&this.setPatchedCaretPosition(r,c,t)}void 0===i&&(i=this.removeFormatting(t)),t!==u&&(this.setState({value:t,numAsString:i}),s(this.getValueObject(t,i),{event:o,source:a}))},t.prototype.onChange=function(e){var t=e.target,r=t.value,n=this.state,a=this.props,o=a.isAllowed,i=n.value||"",c=S(t);r=this.correctInputValue(c,i,r);var s=this.formatInput(r)||"",u=this.removeFormatting(s),l=o(this.getValueObject(s,u));l||(s=i),this.updateValue({formattedValue:s,numAsString:u,inputValue:r,input:t,event:e,source:"event"}),l&&a.onChange(e)},t.prototype.onBlur=function(e){var t=this.props,r=this.state,n=t.format,a=t.onBlur,o=t.allowLeadingZeros,i=r.numAsString,c=r.value;if(this.focusedElm=null,clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout),!n){isNaN(parseFloat(i))&&(i=""),o||(i=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",a=r[1]||"";return(t?"-":"")+n+(a?"."+a:"")}(i));var s=this.formatNumString(i);if(s!==c)return this.updateValue({formattedValue:s,numAsString:i,input:e.target,setCaretPosition:!1,event:e,source:"event"}),void a(e)}a(e)},t.prototype.onKeyDown=function(e){var t,r=e.target,n=e.key,a=r.selectionStart,o=r.selectionEnd,i=r.value;void 0===i&&(i="");var c=this.props,s=c.decimalScale,u=c.fixedDecimalScale,l=c.prefix,m=c.suffix,p=c.format,d=c.onKeyDown,f=void 0!==s&&u,h=this.getNumberRegex(!1,f),g=new RegExp("-"),v="string"==typeof p;if(this.selectionBeforeInput={selectionStart:a,selectionEnd:o},"ArrowLeft"===n||"Backspace"===n?t=a-1:"ArrowRight"===n?t=a+1:"Delete"===n&&(t=a),void 0!==t&&a===o){var y=t,b=v?p.indexOf("#"):l.length,_=v?p.lastIndexOf("#")+1:i.length-m.length;if("ArrowLeft"===n||"ArrowRight"===n){var E="ArrowLeft"===n?"left":"right";y=this.correctCaretPosition(i,t,E)}else if("Delete"!==n||h.test(i[t])||g.test(i[t])){if("Backspace"===n&&!h.test(i[t]))if(a<=b+1&&"-"===i[0]&&void 0===p){var w=i.substring(1);this.updateValue({formattedValue:w,caretPos:y,input:r,event:e,source:"event"})}else if(!g.test(i[t])){for(;!h.test(i[y-1])&&y>b;)y--;y=this.correctCaretPosition(i,y,"left")}}else for(;!h.test(i[y])&&y<_;)y++;(y!==t||t<b||t>_)&&(e.preventDefault(),this.setPatchedCaretPosition(r,y,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(r,y,i),d(e)}else d(e)},t.prototype.onMouseUp=function(e){var t=e.target,r=t.selectionStart,n=t.selectionEnd,a=t.value;if(void 0===a&&(a=""),r===n){var o=this.correctCaretPosition(a,r);o!==r&&this.setPatchedCaretPosition(t,o,a)}this.props.onMouseUp(e)},t.prototype.onFocus=function(e){var t=this;e.persist(),this.focusedElm=e.target,this.focusTimeout=setTimeout((function(){var r=e.target,n=r.selectionStart,a=r.selectionEnd,o=r.value;void 0===o&&(o="");var i=t.correctCaretPosition(o,n);i===n||0===n&&a===o.length||t.setPatchedCaretPosition(r,i,o),t.props.onFocus(e)}),0)},t.prototype.render=function(){var e=this.props,t=e.type,r=e.displayType,n=e.customInput,a=e.renderText,o=e.getInputRef,i=e.format,c=(e.thousandSeparator,e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle,e.decimalScale,e.fixedDecimalScale,e.prefix,e.suffix,e.removeFormatting,e.mask,e.defaultValue,e.isNumericString,e.allowNegative,e.allowEmptyFormatting,e.allowLeadingZeros,e.onValueChange,e.isAllowed,e.customNumerals,e.onChange,e.onKeyDown,e.onMouseUp,e.onFocus,e.onBlur,e.value,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["type","displayType","customInput","renderText","getInputRef","format","thousandSeparator","decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","decimalScale","fixedDecimalScale","prefix","suffix","removeFormatting","mask","defaultValue","isNumericString","allowNegative","allowEmptyFormatting","allowLeadingZeros","onValueChange","isAllowed","customNumerals","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value"])),s=this.state,u=s.value,l=s.mounted&&function(e){return e||"undefined"!=typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}(i)?"numeric":void 0,m=Object.assign({inputMode:l},c,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===r)return a?a(u,c)||null:d().createElement("span",Object.assign({},c,{ref:o}),u);if(n){var p=n;return d().createElement(p,Object.assign({},m,{ref:o}))}return d().createElement("input",Object.assign({},m,{ref:o}))},t}(d().Component);N.defaultProps=k;const x=N;r(5476);const P=e=>({thousandSeparator:null==e?void 0:e.thousandSeparator,decimalSeparator:null==e?void 0:e.decimalSeparator,fixedDecimalScale:!0,prefix:null==e?void 0:e.prefix,suffix:null==e?void 0:e.suffix,isNumericString:!0}),A=({className:e,value:t,currency:r,onValueChange:a,displayType:o="text",...c})=>{var s;const u="string"==typeof t?parseInt(t,10):t;if(!Number.isFinite(u))return null;const l=u/10**r.minorUnit;if(!Number.isFinite(l))return null;const m=i()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",e),p=null!==(s=c.decimalScale)&&void 0!==s?s:null==r?void 0:r.minorUnit,d={...c,...P(r),decimalScale:p,value:void 0,currency:void 0,onValueChange:void 0},f=a?e=>{const t=+e.value*10**r.minorUnit;a(t)}:()=>{};return(0,n.createElement)(x,{className:m,displayType:o,...d,value:l,onValueChange:f})};var C=r(4293);r(5138);const D=({currency:e,maxPrice:t,minPrice:r,priceClassName:a,priceStyle:o={}})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"screen-reader-text"},(0,c.sprintf)(/* translators: %1$s min price, %2$s max price */
(0,c.__)("Price between %1$s and %2$s","woo-gutenberg-products-block"),(0,C.formatPrice)(r),(0,C.formatPrice)(t))),(0,n.createElement)("span",{"aria-hidden":!0},(0,n.createElement)(A,{className:i()("wc-block-components-product-price__value",a),currency:e,value:r,style:o})," — ",(0,n.createElement)(A,{className:i()("wc-block-components-product-price__value",a),currency:e,value:t,style:o}))),M=({currency:e,regularPriceClassName:t,regularPriceStyle:r,regularPrice:a,priceClassName:o,priceStyle:s,price:u})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Previous price:","woo-gutenberg-products-block")),(0,n.createElement)(A,{currency:e,renderText:e=>(0,n.createElement)("del",{className:i()("wc-block-components-product-price__regular",t),style:r},e),value:a}),(0,n.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Discounted price:","woo-gutenberg-products-block")),(0,n.createElement)(A,{currency:e,renderText:e=>(0,n.createElement)("ins",{className:i()("wc-block-components-product-price__value","is-discounted",o),style:s},e),value:u})),F=({align:e,className:t,currency:r,format:a="<price/>",maxPrice:o,minPrice:c,price:s,priceClassName:u,priceStyle:l,regularPrice:m,regularPriceClassName:p,regularPriceStyle:d,style:f})=>{const h=i()(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});a.includes("<price/>")||(a="<price/>",console.error("Price formats need to include the `<price/>` tag."));const g=m&&s!==m;let v=(0,n.createElement)("span",{className:i()("wc-block-components-product-price__value",u)});return g?v=(0,n.createElement)(M,{currency:r,price:s,priceClassName:u,priceStyle:l,regularPrice:m,regularPriceClassName:p,regularPriceStyle:d}):void 0!==c&&void 0!==o?v=(0,n.createElement)(D,{currency:r,maxPrice:o,minPrice:c,priceClassName:u,priceStyle:l}):s&&(v=(0,n.createElement)(A,{className:i()("wc-block-components-product-price__value",u),currency:r,value:s,style:l})),(0,n.createElement)("span",{className:h,style:f},(0,n.createInterpolateElement)(a,{price:v}))};var R=r(2629);r(5641);const O=({className:e="",disabled:t=!1,name:r,permalink:a="",target:o,rel:c,style:s,onClick:u,...l})=>{const m=i()("wc-block-components-product-name",e);if(t){const e=l;return(0,n.createElement)("span",{className:m,...e,dangerouslySetInnerHTML:{__html:(0,R.decodeEntities)(r)}})}return(0,n.createElement)("a",{className:m,href:a,target:o,...l,dangerouslySetInnerHTML:{__html:(0,R.decodeEntities)(r)},style:s})};var I=r(9818),T=r(4801),j=r(7884),V=r(2646),L=r(1478);var U=r(2694),q=r(3554);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function B(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K={normalizePrecision:function(e){var t=e.reduce((function(e,t){return Math.max(e.getPrecision(),t.getPrecision())}));return e.map((function(e){return e.getPrecision()!==t?e.convertPrecision(t):e}))},minimum:function(e){var t=B(e),r=t[0],n=t.slice(1),a=r;return n.forEach((function(e){a=a.lessThan(e)?a:e})),a},maximum:function(e){var t=B(e),r=t[0],n=t.slice(1),a=r;return n.forEach((function(e){a=a.greaterThan(e)?a:e})),a}};function Z(e){return!isNaN(parseInt(e))&&isFinite(e)}function z(e){return e%2==0}function W(e){return Z(e)&&!Number.isInteger(e)}function G(e){return Math.abs(e)%1==.5}function Y(e){return void 0===e}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r={};return Object.entries(e).forEach((function(e){if("object"===$(e[1])){var n=Q(e[1]);Object.entries(n).forEach((function(n){r[e[0]+t+n[0]]=n[1]}))}else r[e[0]]=e[1]})),r}function J(){var e={HALF_ODD:function(e){var t=Math.round(e);return G(e)&&z(t)?t-1:t},HALF_EVEN:function(e){var t=Math.round(e);return G(e)?z(t)?t:t-1:t},HALF_UP:function(e){return Math.round(e)},HALF_DOWN:function(e){return G(e)?Math.floor(e):Math.round(e)},HALF_TOWARDS_ZERO:function(e){return G(e)?Math.sign(e)*Math.floor(Math.abs(e)):Math.round(e)},HALF_AWAY_FROM_ZERO:function(e){return G(e)?Math.sign(e)*Math.ceil(Math.abs(e)):Math.round(e)},DOWN:function(e){return Math.floor(e)}};return{add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return W(e)||W(t)?function(e,t){var r=function(e){return Math.pow(10,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toString();if(e.indexOf("e-")>0)return parseInt(e.split("e-")[1]);var t=e.split(".")[1];return t?t.length:0}(e))},n=Math.max(r(e),r(t));return Math.round(e*n)*Math.round(t*n)/(n*n)}(e,t):e*t},divide:function(e,t){return e/t},modulo:function(e,t){return e%t},round:function(t){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HALF_EVEN"](t)}}}var X=J();function ee(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;for(var r in t)e=e.replace("{{".concat(r,"}}"),t[r]);return e};return{getExchangeRate:function(r,n){return(a=e.endpoint,!Boolean(a)||"object"!==$(a)&&"function"!=typeof a||"function"!=typeof a.then?function(r,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var a=Object.assign(new XMLHttpRequest,{onreadystatechange:function(){4===a.readyState&&(a.status>=200&&a.status<400?r(JSON.parse(a.responseText)):n(new Error(a.statusText)))},onerror:function(){n(new Error("Network error"))}});a.open("GET",e,!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in t)e.setRequestHeader(r,t[r])}(a,t.headers),a.send()}))}(t(e.endpoint,{from:r,to:n}),{headers:e.headers})}(r,n):e.endpoint).then((function(a){return Q(a)[t(e.propertyPath,{from:r,to:n})]}));var a}}}function te(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Error;if(!e)throw new r(t)}function re(e){te(Number.isInteger(e),"You must provide an integer.",TypeError)}var ne=J();const ae=Object.assign((function e(t){var r=Object.assign({},{amount:e.defaultAmount,currency:e.defaultCurrency,precision:e.defaultPrecision},t),n=r.amount,a=r.currency,o=r.precision;re(n),re(o);var i=e.globalLocale,c=e.globalFormat,s=e.globalRoundingMode,u=e.globalFormatRoundingMode,l=Object.assign({},e.globalExchangeRatesApi),m=function(t){var r=Object.assign({},Object.assign({},{amount:n,currency:a,precision:o},t),Object.assign({},{locale:this.locale},t));return Object.assign(e({amount:r.amount,currency:r.currency,precision:r.precision}),{locale:r.locale})},p=function(e){te(this.hasSameCurrency(e),"You must provide a Dinero instance with the same currency.",TypeError)};return{getAmount:function(){return n},getCurrency:function(){return a},getLocale:function(){return this.locale||i},setLocale:function(e){return m.call(this,{locale:e})},getPrecision:function(){return o},convertPrecision:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;re(e);var r=this.getPrecision(),n=e>r,a=n?ne.multiply:ne.divide,o=n?[e,r]:[r,e],i=Math.pow(10,ne.subtract.apply(ne,o));return m.call(this,{amount:ne.round(a(this.getAmount(),i),t),precision:e})},add:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return m.call(this,{amount:ne.add(r[0].getAmount(),r[1].getAmount()),precision:r[0].getPrecision()})},subtract:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return m.call(this,{amount:ne.subtract(r[0].getAmount(),r[1].getAmount()),precision:r[0].getPrecision()})},multiply:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return m.call(this,{amount:ne.round(ne.multiply(this.getAmount(),e),t)})},divide:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return m.call(this,{amount:ne.round(ne.divide(this.getAmount(),e),t)})},percentage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return te(function(e){return Z(e)&&e<=100&&e>=0}(e),"You must provide a numeric value between 0 and 100.",RangeError),this.multiply(ne.divide(e,100),t)},allocate:function(e){var t=this;!function(e){te(function(e){return e.length>0&&e.every((function(e){return e>=0}))&&e.some((function(e){return e>0}))}(e),"You must provide a non-empty array of numeric values greater than 0.",TypeError)}(e);for(var r=e.reduce((function(e,t){return ne.add(e,t)})),n=this.getAmount(),a=e.map((function(e){var a=Math.floor(ne.divide(ne.multiply(t.getAmount(),e),r));return n=ne.subtract(n,a),m.call(t,{amount:a})})),o=0;n>0;)e[o]>0&&(a[o]=a[o].add(m.call(this,{amount:1})),n=ne.subtract(n,1)),o+=1;return a},convert:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.endpoint,a=void 0===n?l.endpoint:n,o=r.propertyPath,i=void 0===o?l.propertyPath||"rates.{{to}}":o,c=r.headers,u=void 0===c?l.headers:c,p=r.roundingMode,d=void 0===p?s:p,f=Object.assign({},{endpoint:a,propertyPath:i,headers:u,roundingMode:d});return ee(f).getExchangeRate(this.getCurrency(),e).then((function(r){return te(!Y(r),'No rate was found for the destination currency "'.concat(e,'".'),TypeError),m.call(t,{amount:ne.round(ne.multiply(t.getAmount(),parseFloat(r)),f.roundingMode),currency:e})}))},equalsTo:function(e){return this.hasSameAmount(e)&&this.hasSameCurrency(e)},lessThan:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return r[0].getAmount()<r[1].getAmount()},lessThanOrEqual:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return r[0].getAmount()<=r[1].getAmount()},greaterThan:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return r[0].getAmount()>r[1].getAmount()},greaterThanOrEqual:function(t){p.call(this,t);var r=e.normalizePrecision([this,t]);return r[0].getAmount()>=r[1].getAmount()},isZero:function(){return 0===this.getAmount()},isPositive:function(){return this.getAmount()>=0},isNegative:function(){return this.getAmount()<0},hasSubUnits:function(){return 0!==ne.modulo(this.getAmount(),Math.pow(10,o))},hasCents:function(){return 0!==ne.modulo(this.getAmount(),Math.pow(10,o))},hasSameCurrency:function(e){return this.getCurrency()===e.getCurrency()},hasSameAmount:function(t){var r=e.normalizePrecision([this,t]);return r[0].getAmount()===r[1].getAmount()},toFormat:function(){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=(e=/^(?:(\$|USD)?0(?:(,)0)?(\.)?(0+)?|0(?:(,)0)?(\.)?(0+)?\s?(dollar)?)$/gm.exec(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c),{getMatches:function(){return null!==e?e.slice(1).filter((function(e){return!Y(e)})):[]},getMinimumFractionDigits:function(){var e=function(e){return"."===e};return Y(this.getMatches().find(e))?0:this.getMatches()[X.add(this.getMatches().findIndex(e),1)].split("").length},getCurrencyDisplay:function(){return{USD:"code",dollar:"name",$:"symbol"}[this.getMatches().find((function(e){return"USD"===e||"dollar"===e||"$"===e}))]},getStyle:function(){return Y(this.getCurrencyDisplay(this.getMatches()))?"decimal":"currency"},getUseGrouping:function(){return!Y(this.getMatches().find((function(e){return","===e})))}});return this.toRoundedUnit(r.getMinimumFractionDigits(),t).toLocaleString(this.getLocale(),{currencyDisplay:r.getCurrencyDisplay(),useGrouping:r.getUseGrouping(),minimumFractionDigits:r.getMinimumFractionDigits(),style:r.getStyle(),currency:this.getCurrency()})},toUnit:function(){return ne.divide(this.getAmount(),Math.pow(10,o))},toRoundedUnit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=Math.pow(10,e);return ne.divide(ne.round(ne.multiply(this.toUnit(),r),t),r)},toObject:function(){return{amount:n,currency:a,precision:o}},toJSON:function(){return this.toObject()}}}),{defaultAmount:0,defaultCurrency:"USD",defaultPrecision:2},{globalLocale:"en-US",globalFormat:"$0,0.00",globalRoundingMode:"HALF_EVEN",globalFormatRoundingMode:"HALF_AWAY_FROM_ZERO",globalExchangeRatesApi:{endpoint:void 0,headers:void 0,propertyPath:void 0}},K);var oe=r(4617);r(6315);const ie=({children:e,className:t})=>(0,n.createElement)("div",{className:i()("wc-block-components-product-badge",t)},e),ce=()=>(0,n.createElement)(ie,{className:"wc-block-components-product-backorder-badge"},(0,c.__)("Available on backorder","woo-gutenberg-products-block")),se=({image:e={},fallbackAlt:t=""})=>{const r=e.thumbnail?{src:e.thumbnail,alt:(0,R.decodeEntities)(e.alt)||t||"Product Image"}:{src:oe.PLACEHOLDER_IMG_SRC,alt:""};return(0,n.createElement)("img",{...r,alt:r.alt})},ue=({lowStockRemaining:e})=>e?(0,n.createElement)(ie,{className:"wc-block-components-product-low-stock-badge"},(0,c.sprintf)(/* translators: %d stock amount (number of items in stock for product) */
(0,c.__)("%d left in stock","woo-gutenberg-products-block"),e)):null;var le=r(9784);r(7984);const me=({details:e=[]})=>Array.isArray(e)?0===(e=e.filter((e=>!e.hidden))).length?null:(0,n.createElement)("ul",{className:"wc-block-components-product-details"},e.map((e=>{const t=(null==e?void 0:e.key)||e.name||"",r=(null==e?void 0:e.className)||(t?`wc-block-components-product-details__${(0,le.o)(t)}`:"");return(0,n.createElement)("li",{key:t+(e.display||e.value),className:r},t&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"wc-block-components-product-details__name"},(0,R.decodeEntities)(t),":")," "),(0,n.createElement)("span",{className:"wc-block-components-product-details__value"},(0,R.decodeEntities)(e.display||e.value)))}))):null;var pe=r(987);const de=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),fe=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t;var he=r(5266);const ge=({source:e,maxLength:t=15,countType:r="words",className:a="",style:o={}})=>{const i=(0,n.useMemo)((()=>((e,t=15,r="words")=>{const n=(0,pe.autop)(e);if((0,he.count)(n,r)<=t)return n;const a=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(n);return(0,he.count)(a,r)<=t?a:"words"===r?((e,t,r="&hellip;",n=!0)=>{const a=de(e),o=a.split(" ").splice(0,t).join(" ");return o===a?n?(0,pe.autop)(a):a:n?(0,pe.autop)(fe(o,r)):fe(o,r)})(a,t):((e,t,r=!0,n="&hellip;",a=!0)=>{const o=de(e),i=o.slice(0,t);if(i===o)return a?(0,pe.autop)(o):o;if(r)return(0,pe.autop)(fe(i,n));const c=i.match(/([\s]+)/g),s=c?c.length:0,u=o.slice(0,t+s);return a?(0,pe.autop)(fe(u,n)):fe(u,n)})(a,t,"characters_including_spaces"===r)})(e,t,r)),[e,t,r]);return(0,n.createElement)(n.RawHTML,{style:o,className:a},i)};var ve=r(5271);const ye=({className:e,shortDescription:t="",fullDescription:r=""})=>{const a=t||r;return a?(0,n.createElement)(ge,{className:e,source:a,maxLength:15,countType:ve.Cm.wordCountType||"words"}):null};r(9889);const be=({shortDescription:e="",fullDescription:t="",itemData:r=[],variation:a=[]})=>(0,n.createElement)("div",{className:"wc-block-components-product-metadata"},(0,n.createElement)(ye,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,n.createElement)(me,{details:r}),(0,n.createElement)(me,{details:a.map((({attribute:e="",value:t})=>({key:e,value:t})))})),_e=({currency:e,saleAmount:t,format:r="<price/>"})=>{if(!t||t<=0)return null;r.includes("<price/>")||(r="<price/>",console.error("Price formats need to include the `<price/>` tag."));const a=(0,c.sprintf)(/* translators: %s will be replaced by the discount amount */
(0,c.__)("Save %s","woo-gutenberg-products-block"),r);return(0,n.createElement)(ie,{className:"wc-block-components-sale-badge"},(0,n.createInterpolateElement)(a,{price:(0,n.createElement)(A,{currency:e,value:t})}))},Ee=(e,t)=>e.convertPrecision(t.minorUnit).getAmount(),we=e=>(0,q.mustContain)(e,"<price/>"),Se=(0,n.forwardRef)((({lineItem:e,onRemove:t=(()=>{}),tabIndex:r},o)=>{const{name:u="",catalog_visibility:p="visible",short_description:d="",description:f="",low_stock_remaining:h=null,show_backorder_badge:g=!1,quantity_limits:v={minimum:1,maximum:99,multiple_of:1,editable:!0},sold_individually:y=!1,permalink:b="",images:_=[],variation:E=[],item_data:w=[],prices:S={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",price:"0",regular_price:"0",sale_price:"0",price_range:null,raw_prices:{precision:6,price:"0",regular_price:"0",sale_price:"0"}},totals:k={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",line_subtotal:"0",line_subtotal_tax:"0"},extensions:N}=e,{quantity:x,setItemQuantity:P,removeItem:A,isPendingDelete:D}=(e=>{const t={key:"",quantity:1};(e=>(0,j.Kn)(e)&&(0,j.$n)(e,"key")&&(0,j.$n)(e,"quantity")&&(0,V.H)(e.key)&&(0,L.h)(e.quantity))(e)&&(t.key=e.key,t.quantity=e.quantity);const{key:r="",quantity:o=1}=t,{cartErrors:i}=(0,a.b)(),{__internalIncrementCalculating:c,__internalDecrementCalculating:s}=(0,I.useDispatch)(T.CHECKOUT_STORE_KEY),[u,m]=(0,n.useState)(o),[p]=(0,l.Nr)(u,400),d=function(e,t){const r=(0,n.useRef)();return(0,n.useEffect)((()=>{r.current===e||(r.current=e)}),[e,t]),r.current}(p),{removeItemFromCart:f,changeCartItemQuantity:h}=(0,I.useDispatch)(T.CART_STORE_KEY);(0,n.useEffect)((()=>m(o)),[o]);const g=(0,I.useSelect)((e=>{if(!r)return{quantity:!1,delete:!1};const t=e(T.CART_STORE_KEY);return{quantity:t.isItemPendingQuantity(r),delete:t.isItemPendingDelete(r)}}),[r]),v=(0,n.useCallback)((()=>r?f(r).catch((e=>{(0,T.processErrorResponse)(e)})):Promise.resolve(!1)),[r,f]);return(0,n.useEffect)((()=>{r&&(0,L.h)(d)&&Number.isFinite(d)&&d!==p&&h(r,p).catch((e=>{(0,T.processErrorResponse)(e)}))}),[r,h,p,d]),(0,n.useEffect)((()=>(g.delete?c():s(),()=>{g.delete&&s()})),[s,c,g.delete]),(0,n.useEffect)((()=>(g.quantity||p!==u?c():s(),()=>{(g.quantity||p!==u)&&s()})),[c,s,g.quantity,p,u]),{isPendingDelete:g.delete,quantity:u,setItemQuantity:m,removeItem:v,cartItemQuantityErrors:i}})(e),{dispatchStoreEvent:M}={dispatchStoreEvent:(0,n.useCallback)(((e,t={})=>{try{(0,U.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,n.useCallback)(((e,t={})=>{try{(0,U.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,I.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])},{receiveCart:R,...$}=(0,a.b)(),B=(0,n.useMemo)((()=>({context:"cart",cartItem:e,cart:$})),[e,$]),H=(0,C.getCurrencyFromPriceResponse)(S),K=(0,q.applyCheckoutFilter)({filterName:"itemName",defaultValue:u,extensions:N,arg:B}),Z=ae({amount:parseInt(S.raw_prices.regular_price,10),precision:S.raw_prices.precision}),z=ae({amount:parseInt(S.raw_prices.price,10),precision:S.raw_prices.precision}),W=Z.subtract(z),G=W.multiply(x),Y=(0,C.getCurrencyFromPriceResponse)(k);let Q=parseInt(k.line_subtotal,10);(0,oe.getSetting)("displayCartPricesIncludingTax",!1)&&(Q+=parseInt(k.line_subtotal_tax,10));const J=ae({amount:Q,precision:Y.minorUnit}),X=_.length?_[0]:{},ee="hidden"===p||"search"===p,te=(0,q.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:N,arg:B}),re=(0,q.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:N,arg:B,validation:we}),ne=(0,q.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:N,arg:B,validation:we}),ie=(0,q.applyCheckoutFilter)({filterName:"saleBadgePriceFormat",defaultValue:"<price/>",extensions:N,arg:B,validation:we}),le=(0,q.applyCheckoutFilter)({filterName:"showRemoveItemLink",defaultValue:!0,extensions:N,arg:B});return(0,n.createElement)("tr",{className:i()("wc-block-cart-items__row",te,{"is-disabled":D}),ref:o,tabIndex:r},(0,n.createElement)("td",{className:"wc-block-cart-item__image","aria-hidden":!(0,j.$n)(X,"alt")||!X.alt},ee?(0,n.createElement)(se,{image:X,fallbackAlt:K}):(0,n.createElement)("a",{href:b,tabIndex:-1},(0,n.createElement)(se,{image:X,fallbackAlt:K}))),(0,n.createElement)("td",{className:"wc-block-cart-item__product"},(0,n.createElement)("div",{className:"wc-block-cart-item__wrap"},(0,n.createElement)(O,{disabled:D||ee,name:K,permalink:b}),g?(0,n.createElement)(ce,null):!!h&&(0,n.createElement)(ue,{lowStockRemaining:h}),(0,n.createElement)("div",{className:"wc-block-cart-item__prices"},(0,n.createElement)(F,{currency:H,regularPrice:Ee(Z,H),price:Ee(z,H),format:ne})),(0,n.createElement)(_e,{currency:H,saleAmount:Ee(W,H),format:ie}),(0,n.createElement)(be,{shortDescription:d,fullDescription:f,itemData:w,variation:E}),(0,n.createElement)("div",{className:"wc-block-cart-item__quantity"},!y&&!!v.editable&&(0,n.createElement)(m,{disabled:D,quantity:x,minimum:v.minimum,maximum:v.maximum,step:v.multiple_of,onChange:t=>{P(t),M("cart-set-item-quantity",{product:e,quantity:t})},itemName:K}),le&&(0,n.createElement)("button",{className:"wc-block-cart-item__remove-link","aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */
(0,c.__)("Remove %s from cart","woo-gutenberg-products-block"),K),onClick:()=>{t(),A(),M("cart-remove-item",{product:e,quantity:x}),(0,s.speak)((0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("%s has been removed from your cart.","woo-gutenberg-products-block"),K))},disabled:D},(0,c.__)("Remove item","woo-gutenberg-products-block"))))),(0,n.createElement)("td",{className:"wc-block-cart-item__total"},(0,n.createElement)("div",{className:"wc-block-cart-item__total-price-and-sale-badge-wrapper"},(0,n.createElement)(F,{currency:Y,format:re,price:J.getAmount()}),x>1&&(0,n.createElement)(_e,{currency:H,saleAmount:Ee(G,H),format:ie}))))}));r(6294);const ke=[...Array(3)].map(((_x,e)=>(0,n.createElement)(Se,{lineItem:{},key:e}))),Ne=e=>{const t={};return e.forEach((({key:e})=>{t[e]=(0,n.createRef)()})),t},xe=({lineItems:e=[],isLoading:t=!1,className:r})=>{const a=(0,n.useRef)(null),o=(0,n.useRef)(Ne(e));(0,n.useEffect)((()=>{o.current=Ne(e)}),[e]);const s=e=>()=>{null!=o&&o.current&&e&&o.current[e].current instanceof HTMLElement?o.current[e].current.focus():a.current instanceof HTMLElement&&a.current.focus()},u=t?ke:e.map(((t,r)=>{const a=e.length>r+1?e[r+1].key:null;return(0,n.createElement)(Se,{key:t.key,lineItem:t,onRemove:s(a),ref:o.current[t.key],tabIndex:-1})}));return(0,n.createElement)("table",{className:i()("wc-block-cart-items",r),ref:a,tabIndex:-1},(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"wc-block-cart-items__header"},(0,n.createElement)("th",{className:"wc-block-cart-items__header-image"},(0,n.createElement)("span",null,(0,c.__)("Product","woo-gutenberg-products-block"))),(0,n.createElement)("th",{className:"wc-block-cart-items__header-product"},(0,n.createElement)("span",null,(0,c.__)("Details","woo-gutenberg-products-block"))),(0,n.createElement)("th",{className:"wc-block-cart-items__header-total"},(0,n.createElement)("span",null,(0,c.__)("Total","woo-gutenberg-products-block"))))),(0,n.createElement)("tbody",null,u))},Pe=({className:e})=>{const{cartItems:t,cartIsLoading:r}=(0,a.b)();return(0,n.createElement)("div",{className:i()(e,"wc-block-mini-cart__products-table")},(0,n.createElement)(xe,{lineItems:t,isLoading:r,className:"wc-block-mini-cart-items"}))}},1290:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var n=r(7582),a=r(307);function o(e,t){return void 0===t&&(t={}),(0,a.B)(e,(0,n.pi)({delimiter:"."},t))}},6294:()=>{},6315:()=>{},7984:()=>{},9889:()=>{},5476:()=>{},5641:()=>{},5138:()=>{},4667:()=>{},9562:(e,t,r)=>{"use strict";function n(e){return e.toLowerCase()}r.d(t,{U:()=>n})},307:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(9562),a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function i(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,i=void 0===r?a:r,s=t.stripRegexp,u=void 0===s?o:s,l=t.transform,m=void 0===l?n.U:l,p=t.delimiter,d=void 0===p?" ":p,f=c(c(e,i,"$1\0$2"),u,"\0"),h=0,g=f.length;"\0"===f.charAt(h);)h++;for(;"\0"===f.charAt(g-1);)g--;return f.slice(h,g).split("\0").map(m).join(d)}function c(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}},9784:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(7582),a=r(1290);function o(e,t){return void 0===t&&(t={}),(0,a.$)(e,(0,n.pi)({delimiter:"-"},t))}},7582:(e,t,r)=>{"use strict";r.d(t,{pi:()=>n});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);